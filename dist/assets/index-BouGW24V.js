import{a7 as Rt,a8 as Ke,a9 as Qe,aa as P,ab as Lt,ac as Tt,ad as te,B as we,ae as zt,af as Ft,ag as $t,ah as Ht,ai as Wt,aj as T,ak as Vt,al as Xe,am as Ut,an as Gt,ao as Yt,r as s,ap as lt,aq as Kt,ar as Qt,as as Xt,at as qt,au as Zt,av as Jt,aw as es,j as e,E as se,c as ts,e as ss,d as ls,I as as,M as ns,F as qe,b as rs,ax as os,ay as is,T as be,$ as Se,C as V,g as z,az as cs,aA as Ze,a2 as ds,aB as us,aC as ps,aD as xs,aE as ms,aF as je,u as hs,aG as fs,aH as gs,i as Ne,W as ys,aI as vs,aJ as bs,aK as js,aL as Ns,aM as _s,aN as ws,aO as Ss,D as at,G as ee,aP as Cs,aQ as As,aR as ks,aS as Ps,aT as Bs,aU as Je,aV as Is,aW as ge,aX as Ms,h as Ds,a0 as et,aY as Os}from"./index-CR4fhODd.js";import"./lines-D7etGvqp.js";import{u as Ce,R as Es}from"./RefContext-B5513NVu.js";import{R as Rs}from"./ReportActionModal-DWVv7Ifo.js";import{W as Ls}from"./WeeklyMonthlyPicker-BRoXS4CI.js";import{M as Ts}from"./index-CsWiTKLq.js";import{T as zs}from"./Tour-ronPy6xk.js";function _e(t){return t!=null}const nt=t=>{var n,o;const{stepProps:c,current:u,type:h,indicatorsRender:i,actionsRender:p}=t,{prefixCls:r,total:f=1,title:b,onClose:d,onPrev:_,onNext:x,onFinish:m,cover:k,description:A,nextButtonProps:v,prevButtonProps:g,type:l,closable:M}=c,L=l??h,F=Rt(M??{},!0),[N]=Ke("global",Qe.global),[C]=Ke("Tour",Qe.Tour),B=P.createElement("button",Object.assign({type:"button",onClick:d,className:`${r}-close`,"aria-label":N==null?void 0:N.close},F),(M==null?void 0:M.closeIcon)||P.createElement(Lt,{className:`${r}-close-icon`})),Y=u===f-1,O=()=>{var R;_==null||_(),(R=g==null?void 0:g.onClick)===null||R===void 0||R.call(g)},K=()=>{var R;Y?m==null||m():x==null||x(),(R=v==null?void 0:v.onClick)===null||R===void 0||R.call(v)},H=_e(b)?P.createElement("div",{className:`${r}-header`},P.createElement("div",{className:`${r}-title`},b)):null,pe=_e(A)?P.createElement("div",{className:`${r}-description`},A):null,Q=_e(k)?P.createElement("div",{className:`${r}-cover`},k):null;let X;i?X=i(u,f):X=Tt(Array.from({length:f}).keys()).map((R,W)=>P.createElement("span",{key:R,className:te(W===u&&`${r}-indicator-active`,`${r}-indicator`)}));const $=L==="primary"?"default":"primary",ce={type:"default",ghost:L==="primary"},U=P.createElement(P.Fragment,null,u!==0?P.createElement(we,Object.assign({size:"small"},ce,g,{onClick:O,className:te(`${r}-prev-btn`,g==null?void 0:g.className)}),(n=g==null?void 0:g.children)!==null&&n!==void 0?n:C==null?void 0:C.Previous):null,P.createElement(we,Object.assign({size:"small",type:$},v,{onClick:K,className:te(`${r}-next-btn`,v==null?void 0:v.className)}),(o=v==null?void 0:v.children)!==null&&o!==void 0?o:Y?C==null?void 0:C.Finish:C==null?void 0:C.Next));return P.createElement("div",{className:`${r}-content`},P.createElement("div",{className:`${r}-inner`},M&&B,Q,H,pe,P.createElement("div",{className:`${r}-footer`},f>1&&P.createElement("div",{className:`${r}-indicators`},X),P.createElement("div",{className:`${r}-buttons`},p?p(U,{current:u,total:f}):U))))},Fs=t=>{const{componentCls:n,padding:o,paddingXS:c,borderRadius:u,borderRadiusXS:h,colorPrimary:i,colorFill:p,indicatorHeight:r,indicatorWidth:f,boxShadowTertiary:b,zIndexPopup:d,colorBgElevated:_,fontWeightStrong:x,marginXS:m,colorTextLightSolid:k,tourBorderRadius:A,colorWhite:v,primaryNextBtnHoverBg:g,closeBtnSize:l,motionDurationSlow:M,antCls:L,primaryPrevBtnBg:F}=t;return[{[n]:Object.assign(Object.assign({},Wt(t)),{position:"absolute",zIndex:d,maxWidth:"fit-content",visibility:"visible",width:520,"--antd-arrow-background-color":_,"&-pure":{maxWidth:"100%",position:"relative"},[`&${n}-hidden`]:{display:"none"},[`${n}-content`]:{position:"relative"},[`${n}-inner`]:{textAlign:"start",textDecoration:"none",borderRadius:A,boxShadow:b,position:"relative",backgroundColor:_,border:"none",backgroundClip:"padding-box",[`${n}-close`]:Object.assign({position:"absolute",top:o,insetInlineEnd:o,color:t.colorIcon,background:"none",border:"none",width:l,height:l,borderRadius:t.borderRadiusSM,transition:`background-color ${t.motionDurationMid}, color ${t.motionDurationMid}`,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer","&:hover":{color:t.colorIconHover,backgroundColor:t.colorBgTextHover},"&:active":{backgroundColor:t.colorBgTextActive}},Vt(t)),[`${n}-cover`]:{textAlign:"center",padding:`${T(t.calc(o).add(l).add(c).equal())} ${T(o)} 0`,img:{width:"100%"}},[`${n}-header`]:{padding:`${T(o)} ${T(o)} ${T(c)}`,width:`calc(100% - ${T(l)})`,wordBreak:"break-word",[`${n}-title`]:{fontWeight:x}},[`${n}-description`]:{padding:`0 ${T(o)}`,wordWrap:"break-word"},[`${n}-footer`]:{padding:`${T(c)} ${T(o)} ${T(o)}`,textAlign:"end",borderRadius:`0 0 ${T(h)} ${T(h)}`,display:"flex",[`${n}-indicators`]:{display:"inline-block",[`${n}-indicator`]:{width:f,height:r,display:"inline-block",borderRadius:"50%",background:p,"&:not(:last-child)":{marginInlineEnd:r},"&-active":{background:i}}},[`${n}-buttons`]:{marginInlineStart:"auto",[`${L}-btn`]:{marginInlineStart:m}}}},[`${n}-primary, &${n}-primary`]:{"--antd-arrow-background-color":i,[`${n}-inner`]:{color:k,textAlign:"start",textDecoration:"none",backgroundColor:i,borderRadius:u,boxShadow:b,[`${n}-close`]:{color:k},[`${n}-indicators`]:{[`${n}-indicator`]:{background:F,"&-active":{background:k}}},[`${n}-prev-btn`]:{color:k,borderColor:F,backgroundColor:i,"&:hover":{backgroundColor:F,borderColor:"transparent"}},[`${n}-next-btn`]:{color:i,borderColor:"transparent",background:v,"&:hover":{background:g}}}}}),[`${n}-mask`]:{[`${n}-placeholder-animated`]:{transition:`all ${M}`}},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${n}-inner`]:{borderRadius:t.min(A,Ht)}}},$t(t,"var(--antd-arrow-background-color)")]},$s=t=>Object.assign(Object.assign({zIndexPopup:t.zIndexPopupBase+70,closeBtnSize:t.fontSize*t.lineHeight,primaryPrevBtnBg:new Xe(t.colorTextLightSolid).setA(.15).toRgbString(),primaryNextBtnHoverBg:new Xe(t.colorBgTextHover).onBackground(t.colorWhite).toRgbString()},Ut({contentRadius:t.borderRadiusLG,limitVerticalRadius:!0})),Gt(t)),rt=zt("Tour",t=>{const{borderRadiusLG:n}=t,o=Ft(t,{indicatorWidth:6,indicatorHeight:6,tourBorderRadius:n});return Fs(o)},$s);var Hs=function(t,n){var o={};for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&n.indexOf(c)<0&&(o[c]=t[c]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,c=Object.getOwnPropertySymbols(t);u<c.length;u++)n.indexOf(c[u])<0&&Object.prototype.propertyIsEnumerable.call(t,c[u])&&(o[c[u]]=t[c[u]]);return o};const Ws=t=>{const{prefixCls:n,current:o=0,total:c=6,className:u,style:h,type:i,closable:p,closeIcon:r}=t,f=Hs(t,["prefixCls","current","total","className","style","type","closable","closeIcon"]),{getPrefixCls:b}=s.useContext(lt),d=b("tour",n),[_,x,m]=rt(d),[k,A]=Kt({closable:p,closeIcon:r},null,{closable:!0,closeIconRender:v=>{var g;return s.isValidElement(v)?Qt(v,{className:te((g=v.props)===null||g===void 0?void 0:g.className,`${d}-close-icon`)}):v}});return _(s.createElement(Xt,{prefixCls:d,hashId:x,className:te(u,`${d}-pure`,i&&`${d}-${i}`,m),style:h},s.createElement(nt,{stepProps:Object.assign(Object.assign({},f),{prefixCls:d,total:c,closable:k?{closeIcon:A}:void 0}),current:o,type:i})))},Vs=Yt(Ws);var Us=function(t,n){var o={};for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&n.indexOf(c)<0&&(o[c]=t[c]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,c=Object.getOwnPropertySymbols(t);u<c.length;u++)n.indexOf(c[u])<0&&Object.prototype.propertyIsEnumerable.call(t,c[u])&&(o[c[u]]=t[c[u]]);return o};const ot=t=>{const{prefixCls:n,type:o,rootClassName:c,indicatorsRender:u,actionsRender:h,steps:i,closeIcon:p}=t,r=Us(t,["prefixCls","type","rootClassName","indicatorsRender","actionsRender","steps","closeIcon"]),{getPrefixCls:f,direction:b,tour:d}=s.useContext(lt),_=f("tour",n),[x,m,k]=rt(_),[,A]=qt(),v=P.useMemo(()=>i==null?void 0:i.map(N=>{var C;return Object.assign(Object.assign({},N),{className:te(N.className,{[`${_}-primary`]:((C=N.type)!==null&&C!==void 0?C:o)==="primary"})})}),[i,o]),g=N=>{var C;return es({arrowPointAtCenter:(C=N==null?void 0:N.arrowPointAtCenter)!==null&&C!==void 0?C:!0,autoAdjustOverflow:!0,offset:A.marginXXS,arrowWidth:A.sizePopupArrow,borderRadius:A.borderRadius})},l=te({[`${_}-rtl`]:b==="rtl"},m,k,c),M=(N,C)=>P.createElement(nt,{type:o,stepProps:N,current:C,indicatorsRender:u,actionsRender:h}),[L,F]=Zt("Tour",r.zIndex);return x(P.createElement(Jt.Provider,{value:F},P.createElement(zs,Object.assign({},r,{closeIcon:p??(d==null?void 0:d.closeIcon),zIndex:L,rootClassName:l,prefixCls:_,animated:!0,renderPanel:M,builtinPlacements:g,steps:v}))))};ot._InternalPanelDoNotUseOrYouWillBeFired=Vs;function Gs({data:t=[]}){const n=t.map(u=>u._id),o=t.map(u=>u.total_orders),c={tooltip:{trigger:"axis"},grid:{left:"0%",right:"0%",bottom:"10%",containLabel:!0},xAxis:{type:"category",data:n},yAxis:{type:"value"},series:[{data:o,type:"line",symbol:"circle",symbolSize:10,itemStyle:{color:"#4379EE"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(67, 121, 238, 0.5)"},{offset:1,color:"rgba(255, 255, 255, 0) "}]}},lineStyle:{color:"#4379EE"}}],graphic:o.length===0?{type:"text",left:"center",top:"middle",style:{text:"No Data Available",fontSize:20,fontWeight:"bold",fill:"#999"}}:null};return e.jsx(se,{notMerge:!0,option:c,style:{width:"100%",height:"100%"}})}function tt({data:t=[],chartFor:n=""}){const o=t.reduce((p,r)=>p+r.total_orders,0),[c,u]=s.useState({}),h={completed:"Completed",pending:"In Progress",cancelled:"Cancelled",not_started:"Not Started"};s.useEffect(()=>{n==="totalSales"?u({paid:"#36b610",completed:"#4379EE",pending:"#F1963A",cancelled:"#D90000"}):n==="totalInstallations"&&u({completed:"#36b610",pending:"#833af1",not_started:"#5d5d5d"})},[n]);const i={tooltip:{trigger:"item"},grid:{left:"0%",right:"0%",bottom:"0%",top:"0%",containLabel:!0},series:[{type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!1}},labelLine:{show:!0},data:t.map(p=>({value:p.total_orders,name:h[p.property_name]||"Unknown Status",itemStyle:{color:c[p.property_name]}}))}],graphic:{elements:[{type:"text",id:"center-total-text",left:"center",top:"53%",style:{text:"Total",textAlign:"center",fill:"#333",fontSize:16}},{type:"text",id:"center-value-text",left:"center",top:"45%",style:{text:o,textAlign:"center",fill:"#333",fontSize:22,fontWeight:"bold"},position:[0,50]}]}};return e.jsx(se,{notMerge:!0,option:i,style:{width:"340px",height:"340px"}})}function ye({data:t=[],graphTitle:n}){const o=t.map(h=>h.property_name||h.elderly_name||"Unknown"),c=t.map(h=>h.total_orders||h.count),u={xAxis:{max:"dataMax"},tooltip:{},grid:{left:"0%",right:"0%",bottom:"10%",top:"5%",containLabel:!0},yAxis:{type:"category",data:o,inverse:!0,animationDuration:300,animationDurationUpdate:300},dataZoom:[{type:"inside",yAxisIndex:0,start:0,end:100}],series:[{name:n,type:"bar",data:c,itemStyle:{color:"#4379EE"},label:{show:!0,valueAnimation:!0},barWidth:c.length<5?30:"auto"}],label:{show:!0},legend:{show:!1},graphic:c.length===0?{type:"text",left:"center",top:"middle",style:{text:"No Data Available",fontSize:20,fontWeight:"bold",fill:"#999"}}:null};return e.jsx(se,{notMerge:!0,option:u,style:{width:"100%",height:"100%"}})}function ve({data:t=[],chartFor:n}){const[o,c]=s.useState({});return s.useEffect(()=>{if(t.length===0){c({graphic:{type:"text",left:"center",top:"middle",style:{text:"No Data Available",fontSize:20,fontWeight:"bold",fill:"#999"}}});return}const h=n==="age"?["20-29","30-39","40-49","50-59","60-69","70-79","80-89","90-99"]:t.map(f=>f._id),i=[{name:"Male",type:"bar",color:"#357AF6",data:h.map(f=>{const b=t.find(d=>d._id===f);return b?b.male_count:0})},{name:"Female",type:"bar",color:"#5CC8BE",data:h.map(f=>{const b=t.find(d=>d._id===f);return b?b.female_count:0})}],p=Math.max(...i.flatMap(f=>f.data)),r={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{show:!0,top:0,data:["Male","Female"]},grid:{left:n==="age"?"0%":"5%",right:"0%",bottom:"10%",top:"10%",containLabel:!0},series:i};n==="age"?(r.xAxis={type:"category",data:h},r.yAxis={type:"value",boundaryGap:[0,.01],min:0,max:p,interval:1,axisLabel:{formatter:f=>Math.floor(f)}}):n==="diseases"&&(r.yAxis={type:"category",data:h},r.xAxis={type:"value",boundaryGap:[0,.01],min:0,max:p,interval:1,axisLabel:{formatter:f=>Math.floor(f)}}),c(r)},[n,t,t.length]),e.jsx(se,{notMerge:!0,option:o,style:{width:"100%",height:"100%"}})}function Ae({data:t=[],chartFor:n}){const[o,c]=s.useState([]);s.useEffect(()=>{let i=t==null?void 0:t.map(p=>{if(n==="device"){const r={completed:"#08A1F7",pending:"#922BF2",not_started:"#FF3B11"},f=t.map(_=>r[_._id]),b={...u,color:f};h(b);const d={not_started:"Not Started",completed:"Completed",pending:"Pending"};return{value:p.count,name:d[p._id]||p._id}}else return{value:p.male_count+p.female_count,name:p._id==="male"?"Male":p._id==="fe-male"?"Female":null}});c(i)},[t]);const[u,h]=s.useState({title:{},tooltip:{trigger:"item"},legend:{show:!1},labelLine:{show:!1},color:["#4379EE","#5CC8BE","#243642","#BC7C7C"]});return s.useEffect(()=>{const i={...u};n=="gender"?i.series=[{type:"pie",radius:"50%",data:o,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]:n=="device"&&(i.series=[{type:"pie",radius:"50%",data:o,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]),h(i)},[n,o]),e.jsx(se,{notMerge:!0,option:u,style:{width:"340px",height:"340px"}})}const Ys=[{role:"monitoring_station",label:"Control Center",color:"#EA5A92",icon:ts,rolesAllowed:["sales_agent","distributor","office"]},{role:"supports_agent",label:"Support Agent",color:"#17C3A5",icon:ss,rolesAllowed:["sales_agent","supports_agent","monitoring_station"]},{role:"nursing_home",label:"Nursing Home",color:"#5096F6",icon:ls,rolesAllowed:["sales_agent","distributor","office"]},{role:"distributor",label:"Distributor",color:"#FA8035",icon:as,rolesAllowed:[]},{role:"sales_agent",label:"Sales Agent",color:"#D188E1",icon:ns,rolesAllowed:["distributor","office"]},{role:"end_user",label:"End User",color:"#7DBBE2",icon:qe,rolesAllowed:["sales_agent","distributor","office"]},{role:"installer",label:"Installer",color:"#7695FF",icon:qe,rolesAllowed:["monitoring_station","office","sales_agent"]},{role:"elderly",label:"Elderly",color:"#FF885B",icon:rs,rolesAllowed:["monitoring_station"]},{role:"office",label:"Office",color:"#FF885B",icon:os,rolesAllowed:[""]},{role:"device",label:"Device",color:"#FF885B",icon:is,rolesAllowed:[]}];function Ks({data:t=[]}){const n=t.filter(p=>p.type===1).reduce((p,r)=>p+r.count,0),o=t.filter(p=>p.type===2).reduce((p,r)=>p+r.count,0),c=t.filter(p=>p.type===3).reduce((p,r)=>p+r.count,0),u=[{value:n,name:"Info"},{value:o,name:"Warning"},{value:c,name:"Critical"}],h=u.reduce((p,r)=>p+r.value,0),i={tooltip:{trigger:"item",formatter:`{a} 
{b}: {c} ({d}%)`},color:["#4379EE","#F1963A","#D90000"],series:[{name:"Activity",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,formatter:"{b}: {c} ({d}%)"},emphasis:{label:{show:!1,fontSize:18,fontWeight:"bold"}},data:t.length!==0?u:null}],graphic:{elements:[{type:"text",left:"center",top:"53%",style:{text:"Total",textAlign:"center",fill:"#333",fontSize:16}},{type:"text",left:"center",top:"45%",style:{text:h.toString(),textAlign:"center",fill:"#333",fontSize:22,fontWeight:"bold"}}]}};return e.jsx(se,{option:i,style:{width:"340px",height:"340px"}})}const it=({data:t=[]})=>{const n=t.length>0,o={title:{},tooltip:{trigger:"item",textStyle:{color:"#333",fontSize:16,fontFamily:"Arial, sans-serif"},formatter:function(c){return`
            <div style="padding: 5px; text-align: left;">
              <div><strong>Activity:</strong> ${c.data[0]}</div>
              <div><strong>Count:</strong> ${c.data[1]}</div>
            </div>
          `}},grid:{left:"2%",right:"0%",bottom:"30%",top:"12%",containLabel:!0},xAxis:{type:"category",axisLabel:{show:!1},axisLine:{show:!1},axisTick:{show:!1}},yAxis:{type:"value",name:"Count",nameLocation:"center",nameGap:40,scale:!0,splitLine:{show:!1}},dataZoom:n?[{type:"inside",start:0,end:100},{type:"slider",start:0,end:100}]:[],series:n?[{type:"scatter",symbolSize:function(c){return Math.min(Math.sqrt(c[1])*5,40)},data:t.map(c=>[c.property_name,c.count]),label:{show:!1},itemStyle:{color:"rgba(67, 121, 238, 0.8)"}}]:[]};return t.length===0?e.jsxs("div",{className:"w-full h-full flex items-center justify-center",children:[" ",e.jsx("span",{className:"text-[#999999] font-semibold text-xl",children:" No Data Available"})," "]}):e.jsx(se,{option:o,style:{height:"370px",width:"100%"},opts:{renderer:"canvas"}})};function Qs({count:t,chartByAge:n=[],chartByGender:o=[],diseasesCountByGender:c=[],alertsCountByName:u=[],alertsCountByElderly:h=[]}){const{registerRef:i}=Ce(),p={usersCountM:s.useRef(null),mostAlertM:s.useRef(null),activityCountM:s.useRef(null),agesM:s.useRef(null),genderM:s.useRef(null),diseasesM:s.useRef(null),activityM:s.useRef(null)};return s.useEffect(()=>{Object.keys(p).forEach(r=>{p[r].current&&i("tour_step_"+r,p[r])})},[i]),e.jsxs("div",{className:"w-full flex flex-col gap-6 pt-6",children:[e.jsxs("div",{className:"flex gap-6 lg:flex-row flex-col h-fit",children:[e.jsxs("div",{className:"rounded-2xl lg:w-[75%] w-full flex flex-col gap-6 h-full",children:[e.jsx("div",{id:"Reports",className:"w-full rounded-2xl flex flex-col gap-6",children:e.jsx("div",{id:"Cards",className:"grid gap-4 grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3",ref:p.usersCountM,children:t==null?void 0:t.map((r,f)=>{let b=r.icon;return e.jsxs("div",{id:"Card",style:{backgroundColor:r==null?void 0:r.color},className:"cursor-pointer group flex w-full items-center p-4 py-6 text-white gap-3 rounded-[12px] relative overflow-hidden",children:[e.jsx("div",{id:"circle",className:"w-[100px] h-[100px] bg-white/20 absolute -right-11 -top-14 rounded-full group-hover:-right-5 group-hover:-top-[75px] transition-all duration-200 ease-in-out"}),e.jsx("div",{id:"circle",className:"w-[100px] h-[100px] bg-white/10 absolute -right-3 -top-[70px] rounded-full group-hover:-right-[50px] group-hover:-top-[45px] transition-all duration-200 ease-in-out"}),e.jsx("div",{className:"bg-opacity-10 h-fit rounded-[8px] p-2 bg-black/20",children:b&&e.jsx(b,{color:"#fff",size:20})}),e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("h1",{className:"text-[26px] font-semibold leading-none",children:r.count||0}),e.jsx("span",{className:"text-[14px] font-medium text-white/70 leading-none",children:r.label})]})]},f)})})}),e.jsxs("div",{className:"p-[25px] rounded-2xl bg-white w-full h-[445px] flex-grow",ref:p.agesM,children:[e.jsx("div",{id:"ChartHeader",className:"w-full flex justify-between",children:e.jsx("h1",{className:"text-[24px] font-bold",children:"Ages"})}),e.jsx(ve,{data:o,chartFor:"age"})]}),e.jsxs("div",{className:"p-[25px] rounded-2xl bg-white w-full h-[445px] flex-grow",ref:p.diseasesM,children:[e.jsx("div",{id:"ChartHeader",className:"w-full flex justify-between",children:e.jsx("h1",{className:"text-[24px] font-bold",children:"Diseases"})}),e.jsx(ve,{data:c,chartFor:"diseases"})]})]}),e.jsxs("div",{className:"rounded-2xl lg:w-[35%] w-full flex flex-col gap-6 h-full",children:[e.jsxs("div",{className:"p-[25px] rounded-2xl bg-white w-full flex flex-col h-[496px] justify-between",ref:p.genderM,children:[e.jsxs("div",{children:[e.jsx("div",{id:"ChartHeader",className:"w-full flex justify-between",children:e.jsx("h1",{className:"text-[24px] font-bold",children:"Gender"})}),e.jsx("div",{className:"h-[260px] my-0 mx-auto flex items-center justify-center",children:e.jsx(Ae,{data:n,chartFor:"gender"})})]}),e.jsxs("div",{id:"ChartInfo",className:"w-full flex flex-col gap-2",children:[e.jsxs("div",{id:"InfoItem",className:"w-full flex justify-between",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"w-[12px] h-[12px] bg-text-primary rounded-full"}),e.jsx("span",{className:"text-lg font-medium",children:"Total"})]}),e.jsx("span",{className:"text-lg font-semibold",children:n.reduce((r,f)=>r+f.male_count+f.female_count,0)})]}),e.jsxs("div",{id:"InfoItem",className:"w-full flex justify-between",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"w-[12px] h-[12px] bg-[#4379EE] rounded-full"}),e.jsx("span",{className:"text-lg font-medium",children:"Male"})]}),e.jsxs("span",{className:"text-lg font-semibold",children:[n.map(r=>r._id==="male"&&r.male_count||0),n.length===0&&e.jsx(e.Fragment,{children:"0"})]})]}),e.jsxs("div",{id:"InfoItem",className:"w-full flex justify-between",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"w-[12px] h-[12px] bg-[#5CC8BE] rounded-full"}),e.jsx("span",{className:"text-lg font-medium",children:"Female"})]}),e.jsxs("span",{className:"text-lg font-semibold",children:[" ",n.map(r=>r._id==="female"&&r.male_count||0),n.length===0&&e.jsx(e.Fragment,{children:"0"})]})]})]})]}),e.jsxs("div",{className:"p-[25px] rounded-2xl bg-white w-full flex flex-col h-[496px] justify-between",ref:p.activityM,children:[e.jsxs("div",{children:[e.jsxs("div",{id:"ChartHeader",className:"w-full flex justify-between",children:[e.jsx("h1",{className:"text-[24px] font-bold",children:"Activity"}),e.jsx("div",{id:"chartController",className:"flex gap-4"})]}),e.jsx("div",{className:"h-[260px] my-0 mx-auto flex items-center justify-center",children:e.jsx(Ks,{data:u})})]}),e.jsxs("div",{id:"ChartInfo",className:"w-full flex flex-col gap-2",children:[e.jsxs("div",{id:"InfoItem",className:"w-full flex justify-between",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"w-[12px] h-[12px] bg-[#4379EE] rounded-full"}),e.jsx("span",{className:"text-lg font-medium",children:"Info"})]}),e.jsx("span",{className:"text-lg font-semibold",children:u.filter(r=>r.type===1).reduce((r,f)=>r+f.count,0)})]}),e.jsxs("div",{id:"InfoItem",className:"w-full flex justify-between",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"w-[12px] h-[12px] bg-[#F1963A] rounded-full"}),e.jsx("span",{className:"text-lg font-medium",children:"Warning"})]}),e.jsx("span",{className:"text-lg font-semibold",children:u.filter(r=>r.type===2).reduce((r,f)=>r+f.count,0)})]}),e.jsxs("div",{id:"InfoItem",className:"w-full flex justify-between",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"w-[12px] h-[12px] bg-[#D90000] rounded-full"}),e.jsx("span",{className:"text-lg font-medium",children:"Critical"})]}),e.jsx("span",{className:"text-lg font-semibold",children:u.filter(r=>r.type===3).reduce((r,f)=>r+f.count,0)})]})]})]})]})]}),e.jsxs("div",{className:"w-full flex gap-6 xl:flex-row flex-col h-[500px] justify-between",children:[e.jsxs("div",{className:"p-[25px] rounded-2xl bg-white w-full h-[445px]",ref:p.mostAlertM,children:[e.jsx("div",{id:"ChartHeader",className:"w-full flex justify-between",children:e.jsx("h1",{className:"text-[24px] font-bold",children:"Most Alerts"})}),e.jsx(ye,{data:h})]}),e.jsxs("div",{className:"p-[25px] rounded-2xl bg-white w-full h-[445px]",ref:p.activityCountM,children:[e.jsx("div",{id:"ChartHeader",className:"w-full flex justify-between",children:e.jsx("h1",{className:"text-[24px] font-bold",children:"Activity Count"})}),e.jsx(it,{data:u})]})]})]})}function Xs({row:t}){const n=s.useContext(Se),[o,c]=s.useState(t==null?void 0:t.installation_status),[u,h]=s.useState(!1),[i,p]=s.useState(!1),r=b=>{b==="completed"?p(!0):(h(!0),Ze(t==null?void 0:t._id,{installation_status:b}).then(d=>{d&&c(b),n.getInstallationList.getCompletedandToBeInstalled(),n.getInstallationList.getDeviceSalesCounts()}).catch(d=>{c(t==null?void 0:t.installation_status)}).finally(()=>{h(!1)}))},f=async()=>{h(!0),(t==null?void 0:t.products.filter(d=>(d==null?void 0:d.type)==="AI Monitoring")).length>0&&await ds({id:t==null?void 0:t.user_id}).then(d=>{var _;d&&us({subscription_id:(_=d==null?void 0:d.data)==null?void 0:_.subscription_id,extend_day:"30"}).then(()=>{}).catch(x=>{console.log(x)})}).catch(d=>{console.log(d)}),await Ze(t==null?void 0:t._id,{installation_status:"completed"}).then(d=>{d&&c("completed"),n.getInstallationList.getCompletedandToBeInstalled(),n.getInstallationList.getDeviceSalesCounts()}).catch(d=>{console.log(d),c(t==null?void 0:t.installation_status)}).finally(()=>{h(!1)})};return s.useEffect(()=>{c(t==null?void 0:t.installation_status)},[t==null?void 0:t.installation_status]),e.jsxs("div",{className:"flex items-center space-x-2 mr-0 ",children:[e.jsx("span",{className:`w-3 h-3 rounded-full relative -right-2 ${o==="completed"?"bg-[#1EB564]":o==="pending"?"bg-yellow-500":"bg-red-500"}`}),e.jsxs(V,{theme:{token:{colorText:"#707EAE",colorPrimary:"#8086AC",colorLinkActive:"#8086AC",colorLinkHover:"#8086AC",colorLink:"#8086AC"}},children:[e.jsx(z,{value:o,variant:"borderless",dropdownMatchSelectWidth:!1,onChange:r,loading:u,optionSelectedColor:"#8086AC",className:"w-fit !text-red-100",options:[{value:"completed",label:e.jsx("span",{children:"Complete"})},{value:"pending",label:e.jsx("span",{children:"Pending"})},{value:"not_started",label:e.jsx("span",{children:"Not Started"})}]}),e.jsx(cs,{modalOPen:i,setModalOpen:p,title:"",title2:"Are you sure you want to change the status to 'Completed'? Once confirmed, this action cannot be undone, and user subscription will start immediately from now.",okText:"Confirm",onOk:()=>f()})]})]})}const qs=[{title:"Installation Status",render:t=>e.jsx(Xs,{row:t})},{title:"Report",render:t=>e.jsx("div",{className:"flex justify-center",children:e.jsx(Rs,{report:t})})},{title:"Customer Name",render:t=>e.jsx("button",{children:e.jsx("span",{className:"text-[14px] xl:text-base font-normal text-text-secondary text-nowrap",children:t==null?void 0:t.user_name})})},{title:"Customer Phone Number",render:t=>e.jsx("button",{children:e.jsx("span",{className:"text-[14px] xl:text-base font-normal text-text-secondary text-nowrap",children:t==null?void 0:t.user_phone})})},{title:"Customer Email",render:t=>e.jsx("button",{children:e.jsx("span",{className:"text-[14px] xl:text-base font-normal text-text-secondary text-nowrap",children:t==null?void 0:t.user_email})})},{title:"Location",render:t=>{var n,o,c,u,h,i;return e.jsx("button",{children:e.jsxs("span",{className:"text-[14px] xl:text-base font-normal text-text-secondary text-nowrap",children:[(n=t.address)==null?void 0:n.line1,", ",(o=t.address)!=null&&o.line2?((c=t.address)==null?void 0:c.line2)+", ":"",","," ",(u=t.address)==null?void 0:u.city,", ",(h=t.address)==null?void 0:h.state,", ",t.address?t.address.postal_code:" ",","," ",(i=t.address)==null?void 0:i.country]})})}},{title:"Product Name",render:t=>e.jsx("button",{children:e.jsx("span",{className:"text-[14px] xl:text-base font-normal text-text-secondary flex  gap-2",children:t.products.filter((n,o,c)=>{const u=n.type==="Seenyor Kit"&&c.findIndex(h=>h.type==="Seenyor Kit")===o;return!/^AI Sensor/.test(n.type)&&(n.type!=="Seenyor Kit"||u)}).map((n,o)=>{const c=n.type==="Seenyor Kit"?"blue":n.type==="Installation"?"orange":"default";return e.jsx(be,{color:c,children:n.type==="Seenyor Kit"?"Package":n.type},o)})})})},{title:"Product Price",render:t=>e.jsx("button",{children:e.jsxs("span",{className:"text-[14px] xl:text-base font-normal text-text-secondary",children:["$",t.products.filter(n=>["Seenyor Kit","Installation","AI Monitoring"].includes(n.type)).reduce((n,o)=>n+o.price,0).toFixed(2)]})})},{title:"Addon Name",render:t=>e.jsx("button",{children:e.jsx("span",{className:"text-[14px] xl:text-base font-normal text-text-secondary flex gap-2",children:t.products.filter(n=>!["Seenyor Kit","Installation","AI Monitoring"].includes(n.type)).map((n,o)=>e.jsx(be,{children:n.type},o)).length===0?e.jsx("span",{children:"--"}):t.products.filter(n=>!["Seenyor Kit","Installation","AI Monitoring"].includes(n.type)).map((n,o)=>e.jsx(be,{children:n.type},o))})})},{title:"Addon Price",render:t=>e.jsx("button",{children:e.jsx("span",{className:"text-[14px] xl:text-base font-normal text-text-secondary text-nowrap",children:t.products.map((n,o)=>["Seenyor Kit","Installation","AI Monitoring"].includes(n.type)?null:e.jsxs("span",{children:["$",n.price.toFixed(2)]},o)).filter(Boolean).length===0?e.jsx("span",{children:"--"}):t.products.map((n,o)=>["Seenyor Kit","Installation","AI Monitoring"].includes(n.type)?null:e.jsxs("span",{children:["$",n.price.toFixed(2)]},o))})})},{title:"Total Price",render:t=>e.jsx("button",{children:e.jsxs("span",{className:"text-[14px] xl:text-base font-normal text-text-secondary text-nowrap",children:["$",t.total]})})},{title:"Date of Sales",render:t=>{const n=new Date(t.created_at).toLocaleDateString("en-CA");return e.jsx("button",{children:e.jsx("span",{className:"text-[14px] xl:text-base font-normal text-text-secondary text-nowrap",children:n})})}},{title:"Payment Status",dataIndex:"payment_status",key:"payment_status",filters:[{text:"Completed",value:"completed"},{text:"Pending",value:"pending"},{text:"Cancelled",value:"cancelled"}],filterMultiple:!0,onFilter:(t,n)=>n.payment_status.includes(t),render:t=>{let n="";switch(t){case"completed":n="green";break;case"pending":n="orange";break;case"cancelled":n="red";break;default:n="black"}return e.jsx("span",{style:{backgroundColor:n,color:"white",padding:"4px 8px",borderRadius:"4px",fontWeight:500,textTransform:"capitalize"},children:t})}}];function Zs(){const[t,n]=s.useState(!1),[o,c]=s.useState(1),[u,h]=s.useState(0),[i,p]=s.useState([]),[r,f]=s.useState([]),[b,d]=s.useState([]);function _(v){n(!0),ms(v).then(g=>{p(g.data),h(g.total)}).catch(g=>{console.log(g)}).finally(()=>{n(!1)})}const x=s.useCallback(()=>{ps().then(v=>{d(v.data)}).catch(v=>{console.log(v)})},[o]),m=s.useCallback(()=>{_({installation_status:"completed",ne:!0,page:o})},[o]);s.useEffect(()=>{m()},[m]),s.useEffect(()=>{x()},[x]);const{registerRef:k}=Ce(),A={step1:s.useRef(null)};return s.useEffect(()=>{Object.keys(A).forEach(v=>{A[v].current&&k("tour_step_"+v,A[v])})},[k]),e.jsx("div",{className:"flex flex-col gap-6 pt-6",children:e.jsxs("div",{className:"w-full flex  gap-6 lg:flex-row flex-col",children:[e.jsxs("div",{id:"NewInstallation",className:"p-[25px] rounded-2xl  bg-white lg:w-[65%] w-full  h-full",children:[e.jsxs("div",{id:"ChartHeader",className:"w-full flex justify-between mb-8",ref:A.step1,children:[e.jsx("h1",{className:"text-[24px] font-bold",children:"To Be Installed"}),e.jsx("div",{id:"chartController",className:"flex gap-4"})]}),e.jsx(V,{theme:{token:{fontFamily:"Baloo2",colorPrimary:"#8086AC",colorLinkActive:"#8086AC",colorLinkHover:"#8086AC",colorLink:"#8086AC"}},children:e.jsx(Se.Provider,{value:{getInstallationList:{getCompletedandToBeInstalled:m,getDeviceSalesCounts:x},total:u,page:o,SetPage:c},children:e.jsx(xs,{loading:t,scroll:{x:750},columns:qs,tableData:i})})})]}),e.jsxs("div",{className:" p-[25px] rounded-2xl  bg-white lg:w-[35%] w-full",children:[e.jsxs("div",{children:[e.jsx("div",{id:"ChartHeader",className:"w-full flex justify-between",children:e.jsx("h1",{className:"text-[24px] font-bold",children:"Device Installed"})}),e.jsx("div",{className:"h-[260px] my-0 mx-auto flex items-center justify-center",children:e.jsx(Ae,{data:b,chartFor:"device"})})]}),e.jsx("div",{id:"ChartInfo",className:"w-full flex flex-col gap-2",children:["completed","pending","not_started"].map((v,g)=>{const l=b.find(M=>M._id===v)||{_id:v,count:0};return e.jsxs("div",{id:"InfoItem",className:"w-full flex justify-between",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:`w-[12px] h-[12px] ${l._id==="completed"?"bg-[#08A1F7]":l._id==="pending"?"bg-[#922BF2]":"bg-[#FF3B11]"} rounded-full`}),e.jsx("span",{className:"text-lg font-medium capitalize",children:l._id==="completed"?"Completed":l._id==="pending"?"Pending":"Not Started"})]}),e.jsx("span",{className:"text-lg font-semibold",children:l.count})]},g)})})]})]})})}const{RangePicker:pl}=at;function Js(){const[t,n]=s.useState("Map View"),[o,c]=s.useState(!1),[u,h]=s.useState([]);je("activeAlert");const i=je("recentAlarms"),[p,r]=s.useState([]),[f,b]=s.useState(!0),[d,_]=s.useState(50),[x,m]=s.useState([]),[k,A]=s.useState([]),[v,g]=s.useState(0);je("events");const[l,M]=s.useState("fl_dv"),[L,F]=s.useState(st("fl_dv")),[N,C]=s.useState({}),[B,Y]=s.useState({}),[O,K]=s.useState(),[H,pe]=s.useState(""),[Q,X]=s.useState(!1),[$,ce]=s.useState([]),[U,R]=s.useState(!1);hs();const{notificationEvent:W}=fs(),le=s.useRef(null),ae=[{value:"fl_dv",label:"All Alarms"},{value:"fall_detected",label:"Fall Detected"},{value:"device_disconnected",label:"Device Disconnected"}],G=s.useCallback(()=>{b(!0),gs({to_date:"2024-01-01",from_date:Ne().format("YYYY-MM-DD"),is_resolved:!1,lookup:!1,limit:d,...L}).then(w=>{b(!1),r(w.data)}).catch(w=>{b(!1),console.log(w)})},[d,L]);s.useEffect(()=>{G()},[G]);const q=s.useCallback(()=>{if(H.trim()===""){K([]);return}ys({search:H}).then(w=>{K(w==null?void 0:w.data)}).catch(w=>{console.log(w)})},[H]);s.useEffect(()=>{q()},[q]),s.useEffect(()=>{vs().then(w=>C(w==null?void 0:w.data)).catch(w=>console.log(w))},[]);const Z=s.useCallback(()=>{const w=Ne(),ue=Ne().subtract(7,"days");bs({end_date:ue.format("YYYY-MM-DD"),from_date:w.format("YYYY-MM-DD")}).then(re=>Y(re==null?void 0:re.data)).catch(re=>console.log(re))},[]);s.useEffect(()=>{Z()},[Z]);const de={selectedRowKeys:$,onChange:w=>ce(w)},xe=()=>{R(!0)};s.useEffect(()=>{W&&G()},[W]);function ne(){le.current&&le.current.getAlertListData&&le.current.getAlertListData()}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex gap-4 flex-col pb-8",children:[e.jsx("div",{className:"flex item-center justify-between w-full"}),e.jsxs("div",{className:"flex items-start gap-4 w-full",children:[e.jsxs("div",{id:"Recently_Closed_Alerts",className:"w-[50%] flex flex-col gap-4 justify-center items-center bg-white rounded-2xl p-6",children:[e.jsxs("div",{id:"Recently_Closed_Alerts_Header",className:"w-full flex justify-between items-center",children:[e.jsx("h1",{className:"text-[24px] font-bold",children:"Recent Notifications"}),e.jsxs("div",{className:"flex items-center gap-4",children:[$.length==0&&e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(z,{value:l,onChange:w=>{M(w),F(st(w))},options:ae,style:{width:200},dropdownMatchSelectWidth:!1}),e.jsx(z,{value:d,onChange:w=>_(w),dropdownMatchSelectWidth:!1,options:[{value:10,label:"10"},{value:50,label:"50"},{value:100,label:"100"},{value:1e3,label:"1000"}],style:{width:80}})]}),$.length!==0&&e.jsx(we,{variant:"solid",style:{backgroundColor:"black"},icon:e.jsx(js,{}),onClick:()=>xe(),children:"Resolve"})]})]}),e.jsx("div",{id:"Recently_Closed_Alerts_Table",className:"w-full",children:e.jsx(Se.Provider,{value:{getLatestAlarmList:{getAlartsHistory:G,getAlarmsCounts:Z,refreshSomeAPIs:ne}},children:e.jsx(Ns,{rowSelection:de,columns:i,dataSource:p,rowKey:"_id",loading:f,pagination:!1,locale:{emptyText:"No recent alerts"},className:"rounded-lg",scroll:{x:(scroll==null?void 0:scroll.x)||scroll||700,y:scroll==null?void 0:scroll.y}})})})]}),e.jsxs("div",{className:"w-[50%] flex flex-col gap-4",children:[e.jsxs("div",{className:"flex gap-4 w-full",children:[e.jsxs("div",{className:"bg-white w-full p-4 rounded-xl flex flex-col",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium opacity-90 flex items-center gap-1",children:[e.jsx(_s,{})," ",e.jsx("span",{children:"Total User"})]}),e.jsx("h2",{className:"text-4xl font-medium",children:N==null?void 0:N.house_count})]}),e.jsxs("div",{className:"flex w-full items-end justify-end gap-6",children:[e.jsxs("div",{className:"flex flex-col justify-center items-center",children:[e.jsx("h2",{className:"font-semibold text-2xl",children:N==null?void 0:N.active_device_count}),e.jsxs("p",{className:"capitalize font-medium opacity-90 text-[14px] flex items-center gap-1",children:[e.jsx("div",{className:"size-2 bg-lime-600 rounded-sm"}),e.jsx("span",{children:"Online Devices"})]})]}),e.jsxs("div",{className:"flex flex-col justify-center items-center",children:[e.jsx("h2",{className:"font-semibold text-2xl",children:N==null?void 0:N.inactive_device_count}),e.jsxs("p",{className:"capitalize font-medium opacity-90 text-[14px] flex items-center gap-1",children:[e.jsx("div",{className:"size-2 bg-red-600 rounded-sm"}),e.jsx("span",{children:"Offline Devices"})]})]})]})]}),e.jsxs("div",{className:"bg-white w-full p-4 rounded-xl flex flex-col",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium opacity-90 flex items-center gap-1",children:[e.jsx(ws,{}),e.jsx("span",{children:"Past Week Alarms"})]}),e.jsx("h2",{className:"text-4xl font-medium",children:B==null?void 0:B.alarm_count})]}),e.jsxs("div",{className:"flex w-full items-end justify-end gap-6",children:[e.jsxs("div",{className:"flex flex-col justify-center items-center",children:[e.jsx("h2",{className:"font-semibold text-2xl",children:B==null?void 0:B.closed_alarm}),e.jsxs("p",{className:"capitalize font-medium opacity-90 text-[14px] flex items-center gap-1",children:[e.jsx("div",{className:"size-2 bg-lime-600 rounded-sm"}),e.jsx("span",{children:"Closed Alarms"})]})]}),e.jsxs("div",{className:"flex flex-col justify-center items-center",children:[e.jsx("h2",{className:"font-semibold text-2xl",children:B==null?void 0:B.false_alarm}),e.jsxs("p",{className:"capitalize font-medium opacity-90 text-[14px] flex items-center gap-1",children:[e.jsx("div",{className:"size-2 bg-red-600 rounded-sm"}),e.jsx("span",{children:"False Alarms"})]})]})]})]})]}),e.jsx("div",{className:"w-full p-0",children:e.jsx("div",{className:"bg-transparent rounded-2xl h-[750px] z-1",children:t==="Map View"&&e.jsx(Ts,{height:650,ref:le})})})]})]})]}),e.jsx(Ss,{openAlertCloseModal:U,setOpenAlertCloseModal:R,selectedAlert:$,getAlertListDatas:()=>{ne(),G(),Z()}})]})}const st=t=>({fall_detected:{event:"2"},device_disconnected:{event:"5",is_online:"1"},fl_dv:{event:"2,5",is_online:"1"}})[t]||{},{RangePicker:el}=at,tl=t=>{console.log("onOk: ",t)},ie=t=>{console.log("search:",t)},sl=()=>{const[t,n]=s.useState(!1),[o,c]=s.useState("Overview"),[u,h]=s.useState(""),[i,p]=s.useState(""),[r,f]=s.useState(!1),[b,d]=s.useState([]),[_,x]=s.useState({current:"1",size:"10"}),{registerRef:m}=Ce(),[k,A]=s.useState({page:1,limit:10}),[v,g]=s.useState(!1),[l,M]=s.useState(ee.get("user")),[L,F]=s.useState(ee.get("role")),[N,C]=s.useState(ee.get("mainRole")),[B,Y]=s.useState(null),[O,K]=s.useState(null),[H,pe]=s.useState(null),[Q,X]=s.useState("all"),[$,ce]=s.useState(null),[U,R]=s.useState(null),[W,le]=s.useState(null),[ae,G]=s.useState(null),[q,Z]=s.useState(null),[de,xe]=s.useState(null),[ne,w]=s.useState(null),[ue,re]=s.useState(null),[ke,ct]=s.useState([]),[me,dt]=s.useState([]),[he,ut]=s.useState(null),[fe,pt]=s.useState([]),[xt,mt]=s.useState([]),[ht,ft]=s.useState([]),[gt,yt]=s.useState([]),[Pe,vt]=s.useState([]),[Be,bt]=s.useState([]),[ll,jt]=s.useState([]),[I,Ie]=s.useState({}),[Nt,al]=s.useState({}),[Me,_t]=s.useState([]),[J,wt]=s.useState([]),[De,St]=s.useState([]),[Oe,Ct]=s.useState([]),[Ee,At]=s.useState([]),[kt,Pt]=s.useState([]),Re=s.useCallback(()=>{Cs().then(a=>{_t(a.data)}).catch(a=>{console.log(a)})},[]),Le=s.useCallback(()=>{As().then(a=>{wt(a==null?void 0:a.data)}).catch(a=>{console.log(a)})},[]),Te=s.useCallback(()=>{ks().then(a=>{St(a.data)}).catch(a=>{console.log(a)})},[]),ze=s.useCallback(()=>{Ps().then(a=>{Ct(a.data)}).catch(a=>{console.log(a)})},[]),Fe=s.useCallback(()=>{Bs().then(a=>{const j=a.data.map(y=>{var S,E;return{property_name:(S=Je(y))==null?void 0:S.title,count:y.count,type:(E=Je(y))==null?void 0:E.status}});console.log(j),At(j)}).catch(a=>{console.log(a)})},[]);function $e(){Ds().then(a=>{const y=Ys.map(S=>{var oe;const E=(oe=a.data)==null?void 0:oe.find(Et=>Et.role===S.role);return{...S,count:E?E.count:0}}).filter(S=>S.rolesAllowed.includes(l.role));pt(y)}).catch(a=>{console.log(a)})}const He=s.useCallback((a,j)=>{Is({office_id:I.office_id,agent_id:a,payment_status:j,from_date:B,to_date:O}).then(y=>{console.log("sales Overview",y),mt(y.data)}).catch(y=>{console.log(y)})},[Q,H,I.office_id,O]),We=s.useCallback((a,j)=>{ge({...I,total_sales_by:"agent_name",city:a,payment_status:j,from_date:B,to_date:O}).then(y=>{var E;const S=(E=y.data)==null?void 0:E.filter(oe=>oe.property_name);ft(S)}).catch(y=>{console.log(y)})},[U,$,I.office_id,O]),Ve=s.useCallback((a,j)=>{ge({...I,total_sales_by:"location",payment_status:j,agent_id:a,from_date:B,to_date:O}).then(y=>{var E;const S=(E=y.data)==null?void 0:E.filter(oe=>oe.property_name);yt(S)}).catch(y=>{console.log(y)})},[ae,W,I.office_id,O]),Ue=s.useCallback(a=>{ge({...I,total_sales_by:"payment_status",agent_id:a,from_date:B,to_date:O}).then(j=>{vt(j.data)}).catch(j=>{console.log(j)})},[q,I.office_id,O]),Ge=s.useCallback(a=>{ge({...I,total_sales_by:"installation_status",agent_id:a,from_date:B,to_date:O}).then(j=>{bt(j.data),console.log(j)}).catch(j=>{console.log(j)})},[de,I.office_id,O]),Ye=s.useCallback((a,j)=>{g(!0),Ms({...k,...I,agent_id:a,payment_status:j,from_date:B,to_date:O}).then(y=>{console.log(y),jt(y),g(!1)}).catch(y=>{console.log(y)})},[ne,ue,I.office_id,O,k]);s.useEffect(()=>{He(Q==="all"?null:Q,H==="all"?null:H)},[He]),s.useEffect(()=>{We(U==="all"?null:U,$==="all"?null:$)},[We]),s.useEffect(()=>{Ve(ae==="all"?null:ae,W==="all"?null:W)},[ae,W,Ve]),s.useEffect(()=>{Ue(q==="all"?null:q)},[q,Ue]),s.useEffect(()=>{Ge(de==="all"?null:de)},[Ge]),s.useEffect(()=>{Ye(ue==="all"?null:ue,ne==="all"?null:ne)},[Ye]),s.useEffect(()=>{if(he)if(he==="all"){if(I.office_id){const a={...I};delete a.office_id,Ie(a)}}else Ie(a=>({...a,office_id:he})),Z("all"),xe("all"),G("all"),X("all")},[he]);function Bt(a){console.log(a),Y(a.start),K(a.end)}function It(a){Y(a[0]),K(a[1])}function Mt(){et({role:"office"}).then(a=>{ct(a.data)}).catch(a=>{console.log(a)})}function Dt(){console.log("called agent get list!",Nt),et({...I,role:"sales_agent"}).then(a=>{dt(a.data)}).catch(a=>{console.log(a)})}function Ot(){Os({...I}).then(a=>{Pt(a.data)}).catch(a=>{console.log(a)})}const D={officeDropdown:s.useRef(null),datePicker:s.useRef(null),usersCount:s.useRef(null),totalSales:s.useRef(null),totalInstallations:s.useRef(null),salesOverview:s.useRef(null),salesByAgent:s.useRef(null),salesByLocation:s.useRef(null),mostAlert:s.useRef(null),activityCount:s.useRef(null),ages:s.useRef(null),gender:s.useRef(null),diseases:s.useRef(null)};return s.useEffect(()=>{Object.keys(D).forEach(a=>{D[a].current&&m("tour_step_"+a,D[a])})},[m]),s.useEffect(()=>{$e(),Mt(),(l.role==="nursing_home"||l.role==="monitoring_station")&&(Re(),Le(),Te(),ze(),Fe())},[ze,Fe,$e,Le,Re,Te,l.role]),s.useEffect(()=>{Dt(),Ot()},[I]),e.jsxs("div",{className:"",children:[(l.role=="distributor"||l.role=="office"||l.role=="sales_agent")&&e.jsxs("div",{className:"pt-[29px] flex flex-col w-full gap-6 pb-10",children:[e.jsx("div",{id:"Distributor_Dash_Top",className:"flex justify-between w-full mb-5 flex-wrap gap-5",children:e.jsxs(V,{theme:{token:{fontFamily:"Baloo2",colorPrimary:"#8086AC",colorLinkActive:"#8086AC",colorLinkHover:"#8086AC",colorLink:"#8086AC"}},children:[l.role=="office"?e.jsx("div",{className:"p-2 px-4 rounded-lg text-[36px] font-bold  text-primary",children:l.office}):l.role=="sales_agent"?null:e.jsx("div",{ref:D.officeDropdown,children:e.jsx(z,{showSearch:!0,optionFilterProp:"label",onChange:a=>ut(a.value),onSearch:ie,defaultValue:"all",size:"large",className:"custom-select",dropdownMatchSelectWidth:!1,labelInValue:!0,options:[{value:"all",label:e.jsxs(e.Fragment,{children:["All Offices ",e.jsx("span",{className:"highlighted-number",children:ke.length})]})},...ke.map(a=>({value:a._id,label:a.name}))]})}),e.jsxs("div",{id:"DatePickers",className:"flex gap-4 items-center",ref:D.datePicker,children:[e.jsx(Ls,{placeholder:"Weekly/Monthly",style:{width:"140px",borderRadius:"10px"},handleChnage:Bt}),e.jsx(el,{showTime:!1,style:{width:"200px",borderRadius:"10px"},size:"large",placeholder:["Pick Data Range (Start)","End"],format:"YYYY-MM-DD",onChange:(a,j)=>{It(j)},onOk:tl})]})]})}),e.jsx("div",{id:"Reports",className:"w-full rounded-2xl bg-transparent flex flex-col gap-6",ref:D.usersCount,children:e.jsx("div",{id:"Cards",className:"grid gap-5 grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5",children:fe==null?void 0:fe.map((a,j)=>{let y=a.icon;return e.jsxs("div",{id:"Card",className:"cursor-pointer group flex w-full items-center p-4 py-6 bg-[#fff] text-white gap-3 rounded-[12px] relative overflow-hidden",children:[e.jsx("div",{id:"circle",style:{backgroundColor:a.color,opacity:"0.9"},className:"w-[100px] h-[100px] absolute -right-11 -top-14 rounded-full group-hover:-right-5 group-hover:-top-[75px] transition-all duration-200 ease-in-out"}),e.jsx("div",{id:"circle",style:{backgroundColor:a.color,opacity:"0.2"},className:"w-[100px] h-[100px] absolute -right-3 -top-[70px] rounded-full group-hover:-right-[50px] group-hover:-top-[45px] transition-all duration-200 ease-in-out"}),e.jsx("div",{style:{backgroundColor:`${a.color}15`},className:"h-fit rounded-[8px] p-2",children:y&&e.jsx(y,{style:{color:a==null?void 0:a.color},size:20})}),e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("h1",{className:"text-[26px] font-semibold leading-none text-text-primary",children:a.count}),e.jsx("span",{className:"text-[14px] font-medium text-text-primary/70 leading-none",children:a.label})]})]},j)})})}),e.jsxs("div",{id:"SalesOverview&Total",className:"w-full flex  gap-6 flex-col",children:[e.jsxs("div",{className:"w-full flex gap-6",children:[e.jsxs("div",{className:" p-[25px] rounded-2xl  bg-white lg:w-[50%] w-full  h-[445px]",ref:D.totalSales,children:[e.jsxs("div",{id:"ChartHeader",className:"w-full flex justify-between",children:[e.jsx("h1",{className:"text-[24px] font-bold",children:"Total Sales"}),e.jsx("div",{id:"chartController",className:"flex gap-4",children:N!=="sales_agent"?e.jsx(V,{theme:{token:{fontFamily:"Baloo2",colorPrimary:"#8086AC",colorLinkActive:"#8086AC",colorLinkHover:"#8086AC",colorLink:"#8086AC"}},children:e.jsx(z,{showSearch:!0,optionFilterProp:"label",onChange:a=>Z(a.value),onSearch:ie,defaultValue:{value:"all",label:"All Agents"},size:"large",labelInValue:!0,dropdownMatchSelectWidth:!1,options:[{value:"all",label:"All Agents"},...me.map(a=>({value:a._id,label:a.name+" "+a.last_name}))]})}):null})]}),e.jsx("div",{className:"h-[260px] my-0 mx-auto flex items-center justify-center",children:e.jsx(tt,{data:Pe,chartFor:"totalSales"})}),e.jsx("div",{id:"ChartInfo",className:"w-full  grid grid-cols-2 gap-4 mt-4",children:["paid","completed","pending","cancelled"].map(a=>{const j=Pe.find(E=>E.property_name===a)||{property_name:a,total_orders:0};let y,S;switch(j.property_name){case"paid":y="#36b610",S="Paid";break;case"completed":y="#4379EE",S="Completed";break;case"pending":y="#F1963A",S="Pending";break;case"cancelled":y="#D90000",S="Cancelled";break;default:y="#000000",S="Unknown"}return e.jsxs("div",{id:"InfoItem",className:"w-full flex justify-between",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"w-[12px] h-[12px] rounded-full",style:{backgroundColor:y}}),e.jsx("span",{className:"text-lg font-medium",children:S})]}),e.jsx("span",{className:"text-lg font-semibold",children:j.total_orders})]},j.property_name)})})]}),e.jsxs("div",{className:" p-[25px] rounded-2xl  bg-white lg:w-[50%] w-full  h-[445px]",ref:D.totalInstallations,children:[e.jsxs("div",{id:"ChartHeader",className:"w-full flex justify-between",children:[e.jsx("h1",{className:"text-[24px] font-bold",children:"Total Installations"}),e.jsx("div",{id:"chartController",className:"flex gap-4",children:N!=="sales_agent"?e.jsx(V,{theme:{token:{fontFamily:"Baloo2",colorPrimary:"#8086AC",colorLinkActive:"#8086AC",colorLinkHover:"#8086AC",colorLink:"#8086AC"}},children:e.jsx(z,{showSearch:!0,optionFilterProp:"label",onChange:a=>xe(a.value),onSearch:ie,defaultValue:"all",size:"large",dropdownMatchSelectWidth:!1,labelInValue:!0,options:[{value:"all",label:"All Agents"},...me.map(a=>({value:a._id,label:a.name+" "+a.last_name}))]})}):null})]}),e.jsx("div",{className:"h-[260px] my-0 mx-auto flex items-center justify-center",children:e.jsx(tt,{data:Be,chartFor:"totalInstallations"})}),e.jsx("div",{id:"ChartInfo",className:"w-full flex flex-col gap-2",children:["completed","pending","not_started"].map(a=>{const j=Be.find(E=>E.property_name===a)||{property_name:a,total_orders:0};let y,S;switch(j.property_name){case"completed":y="#36b610",S="Completed";break;case"pending":y="#833af1",S="In Progress";break;case"not_started":y="#5d5d5d",S="Not Started";break;default:y="#000000",S="Unknown"}return e.jsxs("div",{id:"InfoItem",className:"w-full flex justify-between",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"w-[12px] h-[12px] rounded-full",style:{backgroundColor:y}}),e.jsx("span",{className:"text-lg font-medium",children:S})]}),e.jsx("span",{className:"text-lg font-semibold",children:j.total_orders})]},j.property_name)})})]})]}),e.jsxs("div",{className:" p-[25px] rounded-2xl  bg-white lg:w-[100%] w-full  h-[445px]",ref:D.salesOverview,children:[e.jsxs("div",{id:"ChartHeader",className:"w-full flex justify-between",children:[e.jsx("h1",{className:"text-[24px] font-bold",children:"Sales Overview"}),e.jsx("div",{id:"chartController",className:"flex gap-4",children:e.jsxs(V,{theme:{token:{fontFamily:"Baloo2",colorPrimary:"#8086AC",colorLinkActive:"#8086AC",colorLinkHover:"#8086AC",colorLink:"#8086AC"}},children:[e.jsx(z,{optionFilterProp:"label",onChange:a=>pe(a.value),defaultValue:"all",size:"large",dropdownMatchSelectWidth:!1,labelInValue:!0,options:[{value:"all",label:"All Sales"},{value:"completed",label:"Completed"},{value:"pending",label:"Pending"},{value:"cancelled",label:"Cancelled"}]}),N!=="sales_agent"?e.jsx(z,{showSearch:!0,optionFilterProp:"label",onChange:a=>X(a.value),onSearch:ie,value:Q,defaultValue:"all",size:"large",dropdownMatchSelectWidth:!1,labelInValue:!0,options:[{value:"all",label:"All Agents"},...me.map(a=>({value:a._id,label:a.name+" "+a.last_name}))]}):null]})})]}),e.jsx(Gs,{data:xt})]})]}),e.jsxs("div",{id:"SalesByLucation&Agents",className:"w-full flex gap-6 xl:flex-row flex-col",children:[l.role=="sales_agent"?null:e.jsxs("div",{className:" p-[25px] rounded-2xl  bg-white w-full h-[445px]",ref:D.salesByAgent,children:[e.jsxs("div",{id:"ChartHeader",className:"w-full flex justify-between",children:[e.jsx("h1",{className:"text-[24px] font-bold",children:" Sales by Agent"}),e.jsx("div",{id:"chartController",className:"flex gap-4",children:e.jsxs(V,{theme:{token:{fontFamily:"Baloo2",colorPrimary:"#8086AC",colorLinkActive:"#8086AC",colorLinkHover:"#8086AC",colorLink:"#8086AC"}},children:[e.jsx(z,{optionFilterProp:"label",onChange:a=>ce(a.value),defaultValue:"all",size:"large",labelInValue:!0,dropdownMatchSelectWidth:!1,options:[{value:"all",label:"All Sales"},{value:"completed",label:"Completed"},{value:"pending",label:"Pending"},{value:"cancelled",label:"Cancelled"}]}),e.jsx(z,{showSearch:!0,optionFilterProp:"label",onChange:a=>R(a.value),onSearch:ie,defaultValue:"all",size:"large",dropdownMatchSelectWidth:!1,labelInValue:!0,options:[{value:"all",label:"All Locations"},...kt.map(a=>({value:a.city_name,label:a.city_name}))]})]})})]}),e.jsx(ye,{data:ht,graphTitle:"Sales by Agent"})]}),e.jsxs("div",{className:"p-[25px] rounded-2xl  bg-white w-full h-[445px]",ref:D.salesByLocation,children:[e.jsxs("div",{id:"ChartHeader",className:"w-full flex justify-between",children:[e.jsx("h1",{className:"text-[24px] font-bold",children:"Sales by Location"}),e.jsx("div",{id:"chartController",className:"flex gap-4",children:e.jsxs(V,{theme:{token:{fontFamily:"Baloo2",colorPrimary:"#8086AC",colorLinkActive:"#8086AC",colorLinkHover:"#8086AC",colorLink:"#8086AC"}},children:[e.jsx(z,{optionFilterProp:"label",onChange:a=>le(a.value),defaultValue:"all",size:"large",dropdownMatchSelectWidth:!1,labelInValue:!0,options:[{value:"all",label:"All Sales"},{value:"completed",label:"Completed"},{value:"pending",label:"Pending"},{value:"cancelled",label:"Cancelled"}]}),N!=="sales_agent"?e.jsx(z,{showSearch:!0,optionFilterProp:"label",onChange:a=>G(a.value),onSearch:ie,defaultValue:"all",dropdownMatchSelectWidth:!1,size:"large",labelInValue:!0,options:[{value:"all",label:"All Agents"},...me.map(a=>({value:a._id,label:a.name+" "+a.last_name}))]}):null]})})]}),e.jsx(ye,{data:gt,graphTitle:"Sales by Location"})]})]})]}),l.role=="monitoring_station"?e.jsx(Qs,{count:fe,chartByAge:J,chartByGender:Me,diseasesCountByGender:De,alertsCountByName:Ee,alertsCountByElderly:Oe}):null,L=="installer"?e.jsx(Zs,{}):null,L=="monitoring_agency"?e.jsx(Js,{}):null,l.role=="nursing_home"?e.jsxs("div",{className:"w-full flex flex-col gap-6 pt-6",children:[e.jsxs("div",{className:"w-full flex gap-6 xl:flex-row flex-col h-fit justify-between",children:[e.jsxs("div",{className:"p-[25px] rounded-2xl bg-white w-full h-[445px]",ref:D.mostAlert,children:[e.jsx("div",{id:"ChartHeader",className:"w-full flex justify-between",children:e.jsx("h1",{className:"text-[24px] font-bold",children:"Most Activity"})}),e.jsx(ye,{data:Oe})]}),e.jsxs("div",{className:"p-[25px] rounded-2xl bg-white w-full h-[445px]",ref:D.activityCount,children:[e.jsx("div",{id:"ChartHeader",className:"w-full flex justify-between",children:e.jsx("h1",{className:"text-[24px] font-bold",children:"Activity Count"})}),e.jsx(it,{data:Ee})]})]}),e.jsxs("div",{className:"flex gap-6 lg:flex-row flex-col h-fit",children:[e.jsxs("div",{className:"rounded-2xl lg:w-[75%] w-full flex flex-col gap-6 h-full",children:[e.jsxs("div",{className:"p-[25px] rounded-2xl bg-white w-full h-[445px] flex-grow",ref:D.ages,children:[e.jsx("div",{id:"ChartHeader",className:"w-full flex justify-between",children:e.jsx("h1",{className:"text-[24px] font-bold",children:"Ages"})}),e.jsx(ve,{chartFor:"age",data:Me})]}),e.jsxs("div",{className:"p-[25px] rounded-2xl bg-white w-full h-[445px] flex-grow",ref:D.diseases,children:[e.jsx("div",{id:"ChartHeader",className:"w-full flex justify-between",children:e.jsx("h1",{className:"text-[24px] font-bold",children:"Diseases"})}),e.jsx(ve,{chartFor:"diseases",data:De})]})]}),e.jsx("div",{className:"rounded-2xl lg:w-[35%] w-full flex flex-col gap-6 h-full",children:e.jsxs("div",{className:"p-[25px] rounded-2xl bg-white w-full flex flex-col h-[496px] justify-between",ref:D.gender,children:[e.jsxs("div",{children:[e.jsx("div",{id:"ChartHeader",className:"w-full flex justify-between",children:e.jsx("h1",{className:"text-[24px] font-bold",children:"Gender"})}),e.jsx("div",{className:"h-[260px] my-0 mx-auto flex items-center justify-center",children:e.jsx(Ae,{data:J,chartFor:"gender"})})]}),e.jsxs("div",{id:"ChartInfo",className:"w-full flex flex-col gap-2",children:[e.jsxs("div",{id:"InfoItem",className:"w-full flex justify-between",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"w-[12px] h-[12px] bg-text-primary rounded-full"}),e.jsx("span",{className:"text-lg font-medium",children:"Total"})]}),e.jsx("span",{className:"text-lg font-semibold",children:J.reduce((a,j)=>a+j.male_count+j.female_count,0)})]}),e.jsxs("div",{id:"InfoItem",className:"w-full flex justify-between",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"w-[12px] h-[12px] bg-[#4379EE] rounded-full"}),e.jsx("span",{className:"text-lg font-medium",children:"Male"})]}),e.jsxs("span",{className:"text-lg font-semibold",children:[J.map(a=>a._id==="male"&&a.male_count||0),J.length===0&&e.jsx(e.Fragment,{children:"0"})]})]}),e.jsxs("div",{id:"InfoItem",className:"w-full flex justify-between",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"w-[12px] h-[12px] bg-[#5CC8BE] rounded-full"}),e.jsx("span",{className:"text-lg font-medium",children:"Female"})]}),e.jsxs("span",{className:"text-lg font-semibold",children:[" ",J.map(a=>a._id==="female"&&a.male_count||0),J.length===0&&e.jsx(e.Fragment,{children:"0"})]})]})]})]})})]})]}):null]})},xl=()=>{var v;const[t,n]=s.useState({}),[o,c]=s.useState(!1),[u,h]=s.useState({}),[i,p]=s.useState({}),[r,f]=s.useState(()=>{const g=ee.get("seenToursDash");return g||{}}),b=(v=ee.get("user"))==null?void 0:v.role,d=ee.get("user"),_=s.useCallback(g=>{p(l=>l!==g?g:l)},[]),x={fontSize:"14px",padding:"14px 18px",borderRadius:"8px"},m={fontSize:"14px",padding:"14px 18px",borderRadius:"8px"};s.useEffect(()=>{const g={distributor:[{title:e.jsxs("h1",{className:"text-xl text-primary",children:[" Welcome, ",d==null?void 0:d.name,"!"]}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"As a distributor, you have a central role in managing offices, agents, and location-specific analytics. Explore the tools and features available to you and take control of your domain!"}),nextButtonProps:{children:"Let's Start",style:x,variant:"solid",size:"middle",color:"default",className:"tour_step_btn"}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Your Responsibilities"}),description:e.jsxs("p",{className:"text-base tracking-tight text-primary/80",children:["As a Distributor, you manage offices, agents, and location analytics.",e.jsxs("ul",{className:"list-disc pl-5",children:[e.jsx("li",{children:"Create and manage Offices, Managers, and Agents"}),e.jsx("li",{children:"Assign agents to offices"}),e.jsx("li",{children:"View and filter location-based analytics"}),e.jsx("li",{children:"Oversee daily operations"})]})]}),nextButtonProps:{children:"Start Tour",style:x,variant:"solid",size:"middle",color:"default",className:"tour_step_btn"},prevButtonProps:{style:m}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Office Dropdown"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"Use the office dropdown to select a specific office or view data for all offices at once."}),target:()=>{var l;return(l=i.tour_step_officeDropdown)==null?void 0:l.current},nextButtonProps:{children:"Next",style:x,variant:"solid",size:"middle",className:"tour_step_btn",color:"default"},prevButtonProps:{style:m}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Date Range Filter"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"Apply a custom date range filter to narrow down the data to a specific period for more focused analysis."}),target:()=>{var l;return(l=i.tour_step_datePicker)==null?void 0:l.current},nextButtonProps:{children:"Next",style:x,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:m}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" User Overview"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"Quickly check the number of key users: Nursing Stations, Sales Agents, Monitoring Stations and End Users."}),target:()=>{var l;return(l=i.tour_step_usersCount)==null?void 0:l.current},nextButtonProps:{children:"Next",style:x,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:m}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Total Sales"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"View the total number of sales made, with a breakdown of their statuses (Completed, Pending, and Cancelled)."}),target:()=>{var l;return(l=i.tour_step_totalSales)==null?void 0:l.current},nextButtonProps:{children:"Next",style:x,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:m}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Total Installations"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"Monitor installation statuses, including Completed, In Progress, and Not Started, to track installation progress."}),target:()=>{var l;return(l=i.tour_step_totalInstallations)==null?void 0:l.current},nextButtonProps:{children:"Next",style:x,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:m}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Sales Overview"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"Visualize sales trends over time with the Sales Overview graph, helping you identify patterns and performance."}),target:()=>{var l;return(l=i.tour_step_salesOverview)==null?void 0:l.current},nextButtonProps:{children:"Next",style:x,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:m}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Sales by Agent"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"See the total sales made by each agent, allowing you to track individual performance and contributions."}),target:()=>{var l;return(l=i.tour_step_salesByAgent)==null?void 0:l.current},nextButtonProps:{children:"Next",style:x,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:m}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Sales by Location"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"Review sales performance across different locations, helping you identify high-performing or underperforming areas."}),target:()=>{var l;return(l=i.tour_step_salesByLocation)==null?void 0:l.current},nextButtonProps:{children:"Finish",style:x,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:m}}],office:[{title:e.jsxs("h1",{className:"text-xl text-primary",children:[" Welcome, ",d==null?void 0:d.name,"!"]}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"As an Office Manager, you'll be overseeing the performance of your support agents and managing operations within your office. Lets get started!"}),nextButtonProps:{children:"Let's Start",style:x,variant:"solid",size:"middle",color:"default",className:"tour_step_btn"}},{title:e.jsx("h1",{className:"text-xl text-primary",children:"Your Responsibilities"}),description:e.jsxs("p",{className:"text-base tracking-tight text-primary/80",children:["As an Office Manager, your key tasks include:",e.jsxs("ul",{className:"list-disc pl-5",children:[e.jsx("li",{children:"Tracking the performance of support agents assigned to your office"}),e.jsx("li",{children:"Managing deals with end users"}),e.jsx("li",{children:"Coordinating the scheduling of installers for setup and service"})]})]}),nextButtonProps:{children:"Start Tour",style:x,variant:"solid",size:"middle",color:"default",className:"tour_step_btn"},prevButtonProps:{style:m}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Date Range Filter"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"Apply a custom date range filter to narrow down the data to a specific period for more focused analysis."}),target:()=>{var l;return(l=i.tour_step_datePicker)==null?void 0:l.current},nextButtonProps:{children:"Next",style:x,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:m}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" User Overview"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"Quickly check the number of key users: Nursing Stations, Sales Agents, Monitoring Stations and End Users."}),target:()=>{var l;return(l=i.tour_step_usersCount)==null?void 0:l.current},nextButtonProps:{children:"Next",style:x,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:m}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Total Sales"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"View the total number of sales made, with a breakdown of their statuses (Completed, Pending, and Cancelled)."}),target:()=>{var l;return(l=i.tour_step_totalSales)==null?void 0:l.current},nextButtonProps:{children:"Next",style:x,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:m}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Total Installations"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"Monitor installation statuses, including Completed, In Progress, and Not Started, to track installation progress."}),target:()=>{var l;return(l=i.tour_step_totalInstallations)==null?void 0:l.current},nextButtonProps:{children:"Next",style:x,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:m}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Sales Overview"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"Visualize sales trends over time with the Sales Overview graph, helping you identify patterns and performance."}),target:()=>{var l;return(l=i.tour_step_salesOverview)==null?void 0:l.current},nextButtonProps:{children:"Next",style:x,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:m}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Sales by Agent"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"See the total sales made by each agent, allowing you to track individual performance and contributions."}),target:()=>{var l;return(l=i.tour_step_salesByAgent)==null?void 0:l.current},nextButtonProps:{children:"Next",style:x,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:m}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Sales by Location"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"Review sales performance across different locations, helping you identify high-performing or underperforming areas."}),target:()=>{var l;return(l=i.tour_step_salesByLocation)==null?void 0:l.current},nextButtonProps:{children:"Finish",style:x,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:m}}],sales_agent:[{title:e.jsxs("h1",{className:"text-xl text-primary",children:[" ","Welcome, ",d==null?void 0:d.name," ",d==null?void 0:d.last_name,"!"]}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"Welcome to your Sales Agent Dashboard! As a Sales Agent, you are responsible for registering Nursing Homes, Monitoring Stations, Support Agents, and Installers. Lets dive in and see what you can do!"}),nextButtonProps:{children:"Let's Start",style:x,variant:"solid",size:"middle",color:"default",className:"tour_step_btn"}},{title:e.jsx("h1",{className:"text-xl text-primary",children:"Your Responsibilities"}),description:e.jsxs("p",{className:"text-base tracking-tight text-primary/80",children:["As a Sales Agent, your key tasks include:",e.jsxs("ul",{className:"list-disc pl-5",children:[e.jsx("li",{children:"Registering Nursing Homes, Monitoring Stations, Support Agents, and Installers"}),e.jsx("li",{children:"Registering end users through a sales-specific website"}),e.jsx("li",{children:"Viewing the end users you have signed up"})]})]}),nextButtonProps:{children:"Start Tour",style:x,variant:"solid",size:"middle",color:"default",className:"tour_step_btn"},prevButtonProps:{style:m}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Date Range Filter"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"Apply a custom date range filter to narrow down the data to a specific period for more focused analysis."}),target:()=>{var l;return(l=i.tour_step_datePicker)==null?void 0:l.current},nextButtonProps:{children:"Next",style:x,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:m}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" User Overview"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"Quickly check the number of key users: Nursing Stations, Sales Agents, Monitoring Stations and End Users."}),target:()=>{var l;return(l=i.tour_step_usersCount)==null?void 0:l.current},nextButtonProps:{children:"Next",style:x,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:m}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Total Sales"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"View the total number of sales made, with a breakdown of their statuses (Completed, Pending, and Cancelled)."}),target:()=>{var l;return(l=i.tour_step_totalSales)==null?void 0:l.current},nextButtonProps:{children:"Next",style:x,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:m}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Total Installations"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"Monitor installation statuses, including Completed, In Progress, and Not Started, to track installation progress."}),target:()=>{var l;return(l=i.tour_step_totalInstallations)==null?void 0:l.current},nextButtonProps:{children:"Next",style:x,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:m}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Sales Overview"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"Visualize sales trends over time with the Sales Overview graph, helping you identify patterns and performance."}),target:()=>{var l;return(l=i.tour_step_salesOverview)==null?void 0:l.current},nextButtonProps:{children:"Next",style:x,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:m}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Sales by Location"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"Review sales performance across different locations, helping you identify high-performing or underperforming areas."}),target:()=>{var l;return(l=i.tour_step_salesByLocation)==null?void 0:l.current},nextButtonProps:{children:"Finish",style:x,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:m}}],monitoring_station:[{title:e.jsxs("h1",{className:"text-xl text-primary",children:[" Welcome, ",d==null?void 0:d.name,"!"]}),description:e.jsxs("p",{className:"text-base tracking-tight text-primary/80",children:["Welcome to your Monitoring Company Dashboard! As a Monitoring Company, you manage Installer and Support Agent accounts, ensuring smooth operations for your customers. Lets take a look at your responsibilities:",e.jsxs("ul",{className:"list-disc pl-5",children:[e.jsx("li",{children:"Manage Installer accounts and oversee their setup of devices and profiles"}),e.jsx("li",{children:"Monitor and resolve alerts via the platform and app"}),e.jsx("li",{children:"Support elderly profiles assigned to your company"}),e.jsx("li",{children:"Ensure all installations are completed successfully at customer's homes"})]})]}),nextButtonProps:{children:"Let's Start",style:x,variant:"solid",size:"middle",color:"default",className:"tour_step_btn"}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" User Overview"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"Quickly check the number of key users: Nursing Stations, Sales Agents, Monitoring Stations and End Users."}),target:()=>{var l;return(l=i.tour_step_usersCountM)==null?void 0:l.current},nextButtonProps:{children:"Next",style:x,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:m}},{title:e.jsx("h1",{className:"text-xl text-primary",children:"Ages"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"This section shows the age distribution of individuals in the Nursing Home. It helps in understanding the demographics of your residents, displayed by age group and gender."}),target:()=>{var l;return(l=i.tour_step_agesM)==null?void 0:l.current},nextButtonProps:{children:"Next",style:x,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:m}},{title:e.jsx("h1",{className:"text-xl text-primary",children:"Gender"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"The Gender section provides a visual breakdown of male and female residents, giving you a clear understanding of the gender distribution in your Nursing Home."}),target:()=>{var l;return(l=i.tour_step_genderM)==null?void 0:l.current},nextButtonProps:{children:"Next",style:x,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:m}},{title:e.jsx("h1",{className:"text-xl text-primary",children:"Diseases"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"This section tracks the prevalence of various diseases such as Thyroid Disorders, Hearing Loss, Depression, and more. It helps you monitor the health trends of your residents."}),target:()=>{var l;return(l=i.tour_step_diseasesM)==null?void 0:l.current},nextButtonProps:{children:"Next",style:x,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:m}},{title:e.jsx("h1",{className:"text-xl text-primary",children:"Activity"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"The Activity section shows a summary of all system activities, including info, warning, and critical notifications. Here, you can monitor the status of any alerts or updates, ensuring your system is running smoothly."}),target:()=>{var l;return(l=i.tour_step_activityM)==null?void 0:l.current},nextButtonProps:{children:"Next",style:x,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:m}},{title:e.jsx("h1",{className:"text-xl text-primary",children:"Most Alerts"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"This section displays the most frequent alerts in the system, allowing you to track any ongoing issues or patterns. You can see the total alert count and the distribution of alerts across various categories."}),target:()=>{var l;return(l=i.tour_step_mostAlertM)==null?void 0:l.current},nextButtonProps:{children:"Next",style:x,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:m}},{title:e.jsx("h1",{className:"text-xl text-primary",children:"Activity Count"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"The Activity Count visualizes the actions performed over time. Each circle represents a different level of activity, allowing you to monitor trends and track performance across periods."}),target:()=>{var l;return(l=i.tour_step_activityCountM)==null?void 0:l.current},nextButtonProps:{children:"Finish",style:x,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:m}}],nursing_home:[{title:e.jsxs("h1",{className:"text-xl text-primary",children:[" Welcome, ",d==null?void 0:d.name,"!"]}),description:e.jsxs("p",{className:"text-base tracking-tight text-primary/80",children:["Welcome to your Nursing Home Owner Dashboard! As a Nursing Home Owner, you have full control over managing nurse accounts, overseeing billing and services, and interacting with end users. Lets take a look at your responsibilities:",e.jsxs("ul",{className:"list-disc pl-5",children:[e.jsx("li",{children:"Manage nurse accounts and edit their information"}),e.jsx("li",{children:"View and manage a list of Elderlies in your Nursing Home"}),e.jsx("li",{children:"Create and manage end-user accounts"}),e.jsx("li",{children:"End users interact solely with you for subscriptions and device-related services"})]})]}),nextButtonProps:{children:"Let's Start",style:x,variant:"solid",size:"middle",color:"default",className:"tour_step_btn"}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Most Alerts"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"This section displays the most frequent alerts in the system, allowing you to track any ongoing issues or patterns. You can see the total alert count and the distribution of alerts across various categories."}),target:()=>{var l;return(l=i.tour_step_mostAlert)==null?void 0:l.current},nextButtonProps:{children:"Next",style:x,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:m}},{title:e.jsx("h1",{className:"text-xl text-primary",children:"Activity Count"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"The Activity Count visualizes the actions performed over time. Each circle represents a different level of activity, allowing you to monitor trends and track performance across periods."}),target:()=>{var l;return(l=i.tour_step_activityCount)==null?void 0:l.current},nextButtonProps:{children:"Next",style:x,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:m}},{title:e.jsx("h1",{className:"text-xl text-primary",children:"Ages"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"This section shows the age distribution of individuals in the Nursing Home. It helps in understanding the demographics of your residents, displayed by age group and gender."}),target:()=>{var l;return(l=i.tour_step_ages)==null?void 0:l.current},nextButtonProps:{children:"Next",style:x,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:m}},{title:e.jsx("h1",{className:"text-xl text-primary",children:"Gender"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"The Gender section provides a visual breakdown of male and female residents, giving you a clear understanding of the gender distribution in your Nursing Home."}),target:()=>{var l;return(l=i.tour_step_gender)==null?void 0:l.current},nextButtonProps:{children:"Next",style:x,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:m}},{title:e.jsx("h1",{className:"text-xl text-primary",children:"Diseases"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"This section tracks the prevalence of various diseases such as Thyroid Disorders, Hearing Loss, Depression, and more. It helps you monitor the health trends of your residents."}),target:()=>{var l;return(l=i.tour_step_diseases)==null?void 0:l.current},nextButtonProps:{children:"Finish",style:x,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:m}}]};h(g[b]||[]),setTimeout(()=>{u.length>0&&!r[b]&&c(!0)},2e3)},[i]);const k=()=>u.length>0?u:[];function A(){c(!1);const g={...r,[b]:!0};f(g),ee.set("seenToursDash",g)}return e.jsx(e.Fragment,{children:e.jsxs(Es,{onRefsUpdate:_,children:[e.jsx(sl,{}),e.jsx(V,{theme:{token:{fontFamily:"Baloo2",colorPrimary:"#252F67",colorLinkActive:"#252F67",colorLinkHover:"#252F67",colorLink:"#252F67",primaryColor:"#252F67"}},children:e.jsx(ot,{open:o,onFinish:A,steps:k(),onClose:A})})]})})};export{xl as default};

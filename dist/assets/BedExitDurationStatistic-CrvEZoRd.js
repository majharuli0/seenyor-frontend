import{r as a,bO as C,i as m,ky as T,j as n}from"./index-CR4fhODd.js";import"./mockData-Bpurtgqo.js";import _ from"./barChart-CY3WFCIy.js";import{T as M}from"./Template-BLv2RFpl.js";import{g as k}from"./utiles-Cxfq-lBl.js";import{S as y}from"./SkeletonBarChart-BNNP2f43.js";import"./WeeklyMonthlyPicker-BRoXS4CI.js";import"./SleepHynogram-DfUa7E06.js";import"./FileOutlined-CocyS7bT.js";function W({isSummaryBtn:f=!0}){const{title:p,color:u,icon:x,dataAnalysis:D,summaryProps:b,description:E}=k("Bed Exit Duration"),S=a.useContext(C),{chartToDate:e="",chartFromDate:i="",elderlyDetails:t}=S||{},[o,h]=a.useState(m().subtract(1,"day").format("YYYY-MM-DD")),[r,Y]=a.useState(m().subtract(31,"day").format("YYYY-MM-DD")),[g,B]=a.useState([]),[j,s]=a.useState(!0),c=a.useCallback(()=>{if(!(t!=null&&t.bedRoomIds)||!(t!=null&&t._id)||!r||!o){s(!1);return}s(!0),T({uids:t==null?void 0:t.bedRoomIds,elderly_id:t._id,to_date:r,from_date:o,status:3}).then(d=>{B(d.data),s(!1)}).catch(d=>{s(!1)})},[o,r,t]);return a.useEffect(()=>{c()},[c]),a.useEffect(()=>{e&&i&&(h(e),Y(i))},[e,i]),n.jsx(M,{title:p,color:u,icon:x,dataAnalysis:D,description:E,isSummaryBtn:f,summaryProps:b,children:j?n.jsx(y,{barGroups:25,barsPerGroup:1,gridLines:5,barWidth:40}):n.jsx(_,{data:g,color:u,dataType:"duration",chartFor:"bedExitDuration",fromDate:r,toDate:o})})}export{W as default};

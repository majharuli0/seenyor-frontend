import{r as e,bO as F,i as u,k0 as Y,k1 as j,j as n}from"./index-CR4fhODd.js";import{T as k}from"./Template-BLv2RFpl.js";import{g as y}from"./utiles-Cxfq-lBl.js";import M from"./scatterChart-ZrN1IDd9.js";import{S as _}from"./SkeletonScatterChart-CKYmyJt2.js";import"./WeeklyMonthlyPicker-BRoXS4CI.js";import"./SleepHynogram-DfUa7E06.js";import"./FileOutlined-CocyS7bT.js";function H({isSummaryBtn:p=!0}){const{title:l,color:d,icon:x,dataAnalysis:D,summaryProps:E,description:g}=y("Distribution of Bed Exit Times"),h=e.useContext(F),{chartToDate:o="",chartFromDate:s="",elderlyDetails:t}=h||{},[r,T]=e.useState(u().subtract(1,"day").format("YYYY-MM-DD")),[i,b]=e.useState(u().subtract(31,"day").format("YYYY-MM-DD")),[S,B]=e.useState([]),[C,a]=e.useState(!0),c=e.useCallback(()=>{if(!(t!=null&&t.bedRoomIds)||!t._id||!i||!r){a(!1);return}a(!0),Y({uids:t==null?void 0:t.bedRoomIds,elderly_id:t._id,to_date:i,from_date:r}).then(m=>{const f=j(m.data);console.log("Bed Exit Times Data:",f),B(f),a(!1)}).catch(m=>{console.log("Bed Exit Times Error:",m),a(!1)})},[r,i,t]);return e.useEffect(()=>{c()},[c]),e.useEffect(()=>{o&&s&&(T(o),b(s))},[o,s]),n.jsx(k,{title:l,color:d,icon:x,dataAnalysis:D,description:g,isSummaryBtn:p,summaryProps:E,children:C?n.jsx(_,{height:350,chartHeight:280,scatterPoints:8,gridLines:5,yAxisLabels:5,legendItems:1,showTitle:!1,titleWidth:"40%",pointSize:10}):n.jsx(M,{data:S,color:d,chartFor:"bedExitTimes",colorMapping:{inbed:"#4C956C",outofbed:"#FFC107",wakeup:"#5AB1EF",getup:"#FFB980",fallasleep:"#B6A2DE"}})})}export{H as default};

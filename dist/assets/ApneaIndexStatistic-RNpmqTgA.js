import{r as a,bO as A,i as m,j_ as T,j as d}from"./index-CR4fhODd.js";import"./mockData-Bpurtgqo.js";import _ from"./barChart-CY3WFCIy.js";import{T as g}from"./Template-BLv2RFpl.js";import{g as C}from"./utiles-Cxfq-lBl.js";import"./WeeklyMonthlyPicker-BRoXS4CI.js";import"./SleepHynogram-DfUa7E06.js";import"./FileOutlined-CocyS7bT.js";function P({isSummaryBtn:p=!0}){const{title:u,color:c,icon:f,dataAnalysis:x,summaryProps:I,description:S}=C("Apnea Index"),Y=a.useContext(A),{chartToDate:s="",chartFromDate:r="",elderlyDetails:t}=Y||{},[o,b]=a.useState(m().subtract(1,"day").format("YYYY-MM-DD")),[e,D]=a.useState(m().subtract(31,"day").format("YYYY-MM-DD")),[h,j]=a.useState([]),i=a.useCallback(()=>{!(t!=null&&t.bedRoomIds)||!(t!=null&&t._id)||!e||!o||T({uids:t==null?void 0:t.bedRoomIds,elderly_id:t._id,to_date:e,from_date:o}).then(n=>{j(n.data)}).catch(n=>{console.log(n)})},[o,e,t]);return a.useEffect(()=>{i()},[i]),a.useEffect(()=>{s&&r&&(b(s),D(r))},[r,s]),d.jsx(g,{title:u,color:c,icon:f,dataAnalysis:x,description:S,isSummaryBtn:p,summaryProps:I,children:d.jsx(_,{data:h,color:c,dataType:"number",fromDate:e,toDate:o})})}export{P as default};

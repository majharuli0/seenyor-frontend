import{r as x,j as o,t as z,E as F,cB as g,k9 as u}from"./index-CR4fhODd.js";function L(m){return["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"][m]}const O=({dateType:m,cheartInfo:s={},color:n,fromDate:c,toDate:f})=>{var w;const[y,d]=x.useState(!1);x.useEffect(()=>{d(!0)},[]);const k=x.useMemo(()=>{try{const{xdata:v,maxArray:N,minArray:A,allAvgNumber:S}=s,h=[],C=new Date(c),W=new Date(f),M=new Map;v.forEach((e,t)=>{const a=new Date(e).toISOString().split("T")[0];M.set(a,{min:A[t],max:N[t]})});const i=[];for(let e=new Date(C);e<=W;e.setDate(e.getDate()+1)){const t=e.toISOString().split("T")[0],a=M.get(t);if(m==="Month"){const r=e.getMonth()+1,l=e.getDate();h.push(`${r<10?"0"+r:r}-${l<10?"0"+l:l}`)}else h.push(L(e.getDay()===0?6:e.getDay()-1));i.push({min:a?a.min:null,max:a?a.max:null})}const D=i.filter(e=>e.min!==null&&e.max!==null),b=Math.min(...D.map(e=>e.min)),p=Math.max(...D.map(e=>e.max)),j=i.findIndex(e=>e.min===b),$=i.findIndex(e=>e.max===p);return{backgroundColor:"#fff",grid:{left:"2%",right:"7%",bottom:"4%",top:"20%",containLabel:!0},tooltip:{trigger:"axis",formatter:function(e){const t=e[0].axisValue,a=e[0].value[1],r=e[0].value[2],l=n==="#FF9D3D"?" breaths/min":" bpm";return`<span style="font-weight: bold;">Date: ${t}</span><br/><span >Max: ${r||"-"}${r?l:""}</span><br/><span >Min: ${a||a>=0&&a!==null?a:"-"}${a||a>=0&&a!==null?l:""}</span>`}},xAxis:{type:"category",splitLine:{show:!1},axisTick:{show:!1},axisLine:{lineStyle:{color:"#ccc"}},axisLabel:{color:"#666"},data:h},yAxis:{type:"value",name:"BPM",nameLocation:"end",axisLine:{show:!1},axisLabel:{color:"#666"},splitLine:{lineStyle:{color:"#eee"}}},series:[{name:"Range",type:"custom",renderItem:(e,t)=>{const a=t.coord([t.value(0),t.value(1)]),l=t.coord([t.value(0),t.value(2)])[1]-a[1];return{type:"rect",shape:{x:a[0]-10,y:a[1],width:20,height:l,r:10},style:{fill:n,lineWidth:1}}},encode:{x:0,y:[1,2]},data:i.map((e,t)=>[t,e.min,e.max])},{name:"Average",type:"line",symbol:"none",lineStyle:{type:"dashed",width:1},markLine:{silent:!0,symbol:"none",data:[{yAxis:S,label:{show:!0,formatter:()=>`Avg: ${S}${n==="#FF9D3D"?" breaths/min":" bpm"}`,position:"end",color:n},lineStyle:{color:n,width:1}}]}},{name:"Minimum",type:"pictorialBar",symbolSize:[15,15],symbolOffset:[0,-19],symbolPosition:"end",z:12,label:{normal:{show:!0,offset:[1,60],position:"top",fontSize:13,fontWeight:400,color:n,lineHeight:15,formatter:function(e){return`Min
${b}${n==="#FF9D3D"?" breaths/min":" bpm"}`}}},itemStyle:{borderColor:n,borderWidth:2,borderType:"solid"},color:"#fff",data:new Array(i.length).fill(null).map((e,t)=>({value:t===j?b:"-",symbolSize:[15,15],symbol:t===j?"circle":"none"}))},{name:"Maximum",type:"pictorialBar",symbolSize:[15,15],symbolOffset:[0,2],symbolPosition:"end",z:12,label:{normal:{show:!0,offset:[1,2],position:"top",fontSize:13,fontWeight:400,color:n,lineHeight:15,formatter:function(e){return`Max
${p}${n==="#FF9D3D"?" breaths/min":" bpm"}`}}},itemStyle:{borderColor:n,borderWidth:2,borderType:"solid"},color:"#fff",data:new Array(i.length).fill(null).map((e,t)=>({value:t===$?p:"-",symbolSize:[15,15],symbol:t===$?"circle":"none"}))}],legend:{data:["Average","Minimum","Maximum"],textStyle:{color:"#666"}}}}catch{return{backgroundColor:"#fff",title:{text:"No data available",show:!0,left:"center",top:"center",textStyle:{color:"#000",fontSize:"20px",fontWeight:400}}}}},[s,m,y,c,f,n]);return(w=s==null?void 0:s.xdata)!=null&&w.length?o.jsx(F,{option:k,notMerge:!0,style:{height:"300px",width:"100%",transition:"all 0.3s ease"}}):o.jsx(z,{description:"No data available to show"})},_=Object.freeze(Object.defineProperty({__proto__:null,default:O},Symbol.toStringTag,{value:"Module"})),R=({height:m=300,chartHeight:s=250,barCount:n=7,barWidth:c=40,gridLines:f=5})=>o.jsx("div",{className:"w-full flex flex-col p-4 skeleton-wrapper",style:{height:m},children:o.jsxs("div",{className:"relative w-full border border-gray-200 rounded-md",style:{height:s},children:[o.jsx("div",{className:"w-full h-full flex flex-col justify-between",children:[...Array(f)].map((y,d)=>o.jsx("div",{className:"w-full h-px bg-gray-100"},d))}),o.jsx("div",{className:"absolute bottom-0 left-0 right-0 top-0 flex justify-between p-4",children:[...Array(n)].map((y,d)=>o.jsx("div",{className:"flex flex-col items-center justify-end skeleton-bar-group",style:{width:`${100/n}%`},children:o.jsxs("div",{className:"relative w-full flex flex-col items-center",style:{width:c},children:[o.jsx(g.Node,{active:!0,style:{width:10,height:100,position:"absolute",bottom:`${Math.random()*50+10}%`,backgroundColor:"#f0f0f0"}}),o.jsx(g.Node,{active:!0,style:{width:6,height:`${Math.random()*40+30}%`,borderRadius:"2px",position:"absolute",bottom:"10%",backgroundColor:"#f0f0f0"}}),o.jsx(g.Node,{active:!0,style:{width:10,height:10,borderRadius:"50%",position:"absolute",bottom:`${Math.random()*40+50}%`,backgroundColor:"#f0f0f0"}})]})},d))})]})});R.propTypes={height:u.number,chartHeight:u.number,barCount:u.number,barWidth:u.number,gridLines:u.number};export{O as R,R as S,_ as a};

import{r as a,bO as h,i as f,jX as j,j as m}from"./index-CR4fhODd.js";import"./mockData-Bpurtgqo.js";import T from"./barChart-CY3WFCIy.js";import{T as C}from"./Template-BLv2RFpl.js";import{g as _}from"./utiles-Cxfq-lBl.js";import"./WeeklyMonthlyPicker-BRoXS4CI.js";import"./SleepHynogram-DfUa7E06.js";import"./FileOutlined-CocyS7bT.js";function O({isSummaryBtn:p=!0}){const{title:u,color:i,icon:d,dataAnalysis:S,summaryProps:x,description:E}=_("Efficiency"),y=a.useContext(h),{chartToDate:s="",chartFromDate:r="",elderlyDetails:t}=y||{},[e,Y]=a.useState(f().subtract(1,"day").format("YYYY-MM-DD")),[o,D]=a.useState(f().subtract(31,"day").format("YYYY-MM-DD")),[b,g]=a.useState([]),n=a.useCallback(()=>{!(t!=null&&t.bedRoomIds)||!(t!=null&&t._id)||!o||!e||j({uids:t==null?void 0:t.bedRoomIds,elderly_id:t._id,to_date:o,from_date:e}).then(c=>{g(c.data)}).catch(c=>{console.log(c)})},[e,o,t]);return a.useEffect(()=>{n()},[n]),a.useEffect(()=>{s&&r&&(Y(s),D(r))},[s]),m.jsx(C,{title:u,color:i,icon:d,dataAnalysis:S,description:E,isSummaryBtn:p,summaryProps:x,children:m.jsx(T,{data:b,color:i,dataType:"percentage",fromDate:o,toDate:e,xUnit:"datesss"})})}export{O as default};

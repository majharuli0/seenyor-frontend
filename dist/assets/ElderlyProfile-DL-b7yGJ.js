const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/OverviewTab-CphsYf7N.js","assets/index-CR4fhODd.js","assets/index-BCO3KllJ.css","assets/RefContext-B5513NVu.js","assets/HealthConditionModal-BnNsCmWH.js","assets/SleepHynogram-DfUa7E06.js","assets/SleepHynogram-DS2dHUDC.css","assets/SkeletonSleepingTimeline-DL4Wt8st.js","assets/get-up-C5mLunBb.js","assets/ReportsTab-B9tEvvv6.js","assets/DurationStatistic-Bz6oZE4a.js","assets/mockData-Bpurtgqo.js","assets/barChart-CY3WFCIy.js","assets/Template-BLv2RFpl.js","assets/WeeklyMonthlyPicker-BRoXS4CI.js","assets/FileOutlined-CocyS7bT.js","assets/Template-D_YXFNod.css","assets/utiles-Cxfq-lBl.js","assets/DurationDistribution-DxiaynL0.js","assets/EfficiencyStatistic-Dlk7gZBR.js","assets/DeepSleepPercentageDistribution-B1Lh4qZ2.js","assets/DeepSleepPercentageStatistic-Bb8fpTwz.js","assets/EfficiencyDistribution-DdCO9nYD.js","assets/ApneaIndexStatistic-RNpmqTgA.js","assets/NumberOfBedExitStatistic-jTX8Vn0G.js","assets/DistributionOfBedExitTimes-D3kPtCBG.js","assets/scatterChart-ZrN1IDd9.js","assets/SkeletonScatterChart-CKYmyJt2.js","assets/TimeToFallAsleepStatistic-BE8MtIXC.js","assets/DistributionOfTimeToFallAsleep-fWZxf2A1.js","assets/DistributionOfDailyRoutine-C8ihaI_o.js","assets/RespiratoryRate-BicTWF2v.js","assets/SkeletonRateChart-B_Yg2cAZ.js","assets/HeartRate-BfqQJJgz.js","assets/SkeletonBarChart-BNNP2f43.js","assets/HeartRateDistribution-CwmSH7PN.js","assets/BreathRateDistribution-CLBFKbgm.js","assets/index-DN8cHx_b.js","assets/Cascader-C7E8ZGaw.js","assets/Collapse-BT_swdD9.js","assets/index-DcENZuzz.js","assets/SleepTab-C1Zjt-CS.js","assets/HealthTab-Bc1lFMIN.js","assets/EmergencyContactsTab-O-sAUZMM.js","assets/CreateAndEditModal-96LLu7le.js","assets/CustomInput-B54BPh_e.js","assets/DevicesTab-DroW2TmO.js","assets/DataAnalyzeTab-BhLQluEF.js","assets/TrendTab-CT1sGV8W.js","assets/UpOutlined-sHSKJOCt.js","assets/ActivityTab-B3Bzasim.js","assets/LiveMapTab-CFh0fNJO.js","assets/CommunicationTab-DiEAxWq-.js","assets/HealthDataTab-B7Ggr2LM.js","assets/AlertsHistoryTab-DwKOLBKT.js"])))=>i.map(i=>d[i]);
import{r as e,l as m,j as o,cB as le,cQ as ce,cR as ue,cS as l,S as de,cT as _e,V as fe,u as pe,a1 as me,G as y,cU as be,i as ve,cV as ye,cj as he,bO as ge,C as z,cW as V}from"./index-CR4fhODd.js";import{R as Ee}from"./RefContext-B5513NVu.js";import{R as Oe}from"./HomeOutlined-DkUaH10G.js";import{A as Re,C as xe,D as je,H as Ie,M as Le,a as Pe,P as Te}from"./PullRequestOutlined-CcM1XID8.js";import"./HomeOutlined-HRDkLfHL.js";function O(){return O=Object.assign?Object.assign.bind():function(n){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])}return n},O.apply(this,arguments)}const De=(n,a)=>e.createElement(m,O({},n,{ref:a,icon:Re})),Se=e.forwardRef(De);function R(){return R=Object.assign?Object.assign.bind():function(n){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])}return n},R.apply(this,arguments)}const we=(n,a)=>e.createElement(m,R({},n,{ref:a,icon:xe})),Ae=e.forwardRef(we);function x(){return x=Object.assign?Object.assign.bind():function(n){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])}return n},x.apply(this,arguments)}const ze=(n,a)=>e.createElement(m,x({},n,{ref:a,icon:je})),Ve=e.forwardRef(ze);function j(){return j=Object.assign?Object.assign.bind():function(n){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])}return n},j.apply(this,arguments)}const $e=(n,a)=>e.createElement(m,j({},n,{ref:a,icon:Ie})),Me=e.forwardRef($e);function I(){return I=Object.assign?Object.assign.bind():function(n){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])}return n},I.apply(this,arguments)}const Ce=(n,a)=>e.createElement(m,I({},n,{ref:a,icon:Le})),ke=e.forwardRef(Ce);function L(){return L=Object.assign?Object.assign.bind():function(n){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])}return n},L.apply(this,arguments)}const Fe=(n,a)=>e.createElement(m,L({},n,{ref:a,icon:Pe})),He=e.forwardRef(Fe);function P(){return P=Object.assign?Object.assign.bind():function(n){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])}return n},P.apply(this,arguments)}const qe=(n,a)=>e.createElement(m,P({},n,{ref:a,icon:Te})),Ne=e.forwardRef(qe);function Ue(){return o.jsx("div",{className:"h-full w-full mt-6",children:o.jsx(le,{})})}const We=e.lazy(()=>l(()=>import("./OverviewTab-CphsYf7N.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))),Be=e.lazy(()=>l(()=>import("./ReportsTab-B9tEvvv6.js"),__vite__mapDeps([9,1,2,10,11,12,13,14,5,6,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40]))),Xe=e.lazy(()=>l(()=>import("./SleepTab-C1Zjt-CS.js"),__vite__mapDeps([41,1,2,3,37,38]))),Ye=e.lazy(()=>l(()=>import("./HealthTab-Bc1lFMIN.js"),__vite__mapDeps([42,1,2,3]))),Je=e.lazy(()=>l(()=>import("./EmergencyContactsTab-O-sAUZMM.js"),__vite__mapDeps([43,1,2,44,45]))),Ge=e.lazy(()=>l(()=>import("./DevicesTab-DroW2TmO.js"),__vite__mapDeps([46,1,2])));e.lazy(()=>l(()=>import("./DataAnalyzeTab-BhLQluEF.js"),__vite__mapDeps([47,1,2,39,40])));e.lazy(()=>l(()=>import("./TrendTab-CT1sGV8W.js"),__vite__mapDeps([48,1,2,49])));const Ke=e.lazy(()=>l(()=>import("./ActivityTab-B3Bzasim.js"),__vite__mapDeps([50,1,2,8,3]))),Qe=e.lazy(()=>l(()=>import("./LiveMapTab-CFh0fNJO.js"),__vite__mapDeps([51,1,2])));e.lazy(()=>l(()=>import("./CommunicationTab-DiEAxWq-.js"),__vite__mapDeps([52,1,2])));const Ze=e.lazy(()=>l(()=>import("./HealthDataTab-B7Ggr2LM.js"),__vite__mapDeps([53,1,2,4]))),et=e.lazy(()=>l(()=>import("./AlertsHistoryTab-DwKOLBKT.js"),__vite__mapDeps([54,1,2]))),$=[{label:"Overview",key:"overview",icon:o.jsx(Oe,{}),component:o.jsx(We,{})},{label:"Sleep",key:"sleep",icon:o.jsx(He,{}),component:o.jsx(Xe,{})},{label:"Wellness Insights",key:"health",icon:o.jsx(Me,{}),component:o.jsx(Ye,{})},{label:"Activity",key:"activity",icon:o.jsx(Ne,{}),component:o.jsx(Ke,{})},{label:"Live Map",key:"liveMap",icon:o.jsx(ce,{}),component:o.jsx(Qe,{})},{label:"Personal Records",key:"healthData",icon:o.jsx(Ve,{}),component:o.jsx(Ze,{})},{label:"Trusted Contacts",key:"emergencyContacts",icon:o.jsx(Ae,{}),component:o.jsx(Je,{})},{label:"Activity History",key:"alertHistory",icon:o.jsx(Se,{}),component:o.jsx(et,{})},{label:"Devices",key:"devices",icon:o.jsx(ke,{}),component:o.jsx(Ge,{})},{label:"Reports",key:"reports",icon:o.jsx(ue,{}),component:o.jsx(Be,{})}];e.lazy(()=>l(()=>import("./OverviewTab-CphsYf7N.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8])));e.lazy(()=>l(()=>import("./ReportsTab-B9tEvvv6.js"),__vite__mapDeps([9,1,2,10,11,12,13,14,5,6,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40])));e.lazy(()=>l(()=>import("./SleepTab-C1Zjt-CS.js"),__vite__mapDeps([41,1,2,3,37,38])));e.lazy(()=>l(()=>import("./HealthTab-Bc1lFMIN.js"),__vite__mapDeps([42,1,2,3])));e.lazy(()=>l(()=>import("./EmergencyContactsTab-O-sAUZMM.js"),__vite__mapDeps([43,1,2,44,45])));e.lazy(()=>l(()=>import("./DevicesTab-DroW2TmO.js"),__vite__mapDeps([46,1,2])));e.lazy(()=>l(()=>import("./DataAnalyzeTab-BhLQluEF.js"),__vite__mapDeps([47,1,2,39,40])));e.lazy(()=>l(()=>import("./TrendTab-CT1sGV8W.js"),__vite__mapDeps([48,1,2,49])));e.lazy(()=>l(()=>import("./ActivityTab-B3Bzasim.js"),__vite__mapDeps([50,1,2,8,3])));e.lazy(()=>l(()=>import("./LiveMapTab-CFh0fNJO.js"),__vite__mapDeps([51,1,2])));e.lazy(()=>l(()=>import("./CommunicationTab-DiEAxWq-.js"),__vite__mapDeps([52,1,2])));e.lazy(()=>l(()=>import("./HealthDataTab-B7Ggr2LM.js"),__vite__mapDeps([53,1,2,4])));e.lazy(()=>l(()=>import("./AlertsHistoryTab-DwKOLBKT.js"),__vite__mapDeps([54,1,2])));function bt(){const{dailyRepDate:n,setModalDataList:a}=e.useContext(de),{setElderlyDetails:r}=_e(),[s,M]=e.useState({}),[C,k]=e.useState([]),[tt,at]=e.useState("small"),b=fe(),F=pe(),u=me(),[ot,nt]=e.useState(!1),H=e.useMemo(()=>$,[]),[st,q]=e.useState({}),[rt,it]=e.useState(()=>{const t=y.get("seenTours");return t||{}}),N=e.useMemo(()=>new URLSearchParams(b.search),[b.search]).get("tab")||"overview",[d,T]=e.useState(N),[ct,ut]=e.useState({}),[U,v]=e.useState(!0),[W,B]=e.useState({});e.useRef(null);const X=e.useCallback(t=>{q(i=>i!==t?t:i);const c={};Object.keys(t).forEach(i=>{if(i.startsWith("tab_")&&t[i].current){const p=i.split("_")[1];c[p]=!0}}),B(i=>{const p={...i,...c};return JSON.stringify(p)!==JSON.stringify(i)?p:i})},[]);e.useRef(b.pathname),e.useLayoutEffect(()=>{y.set("activeElderlyTab",d),F(`${b.pathname}?tab=${d}`,{replace:!0})},[d]),e.useEffect(()=>{const c=new URLSearchParams(b.search).get("tab");c&&c!==d&&T(c)},[b.search]);const D=e.useCallback(()=>{document.querySelectorAll(".echarts").forEach(c=>{c&&c.echartsInstance&&c.echartsInstance.resize()})},[]);e.useLayoutEffect(()=>{const t=()=>D();return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[D]);const h=e.useCallback(()=>{u.id&&Y()},[u.id]),Y=()=>{be({id:u.id}).then(t=>{var i,p,w,A;const c={...t==null?void 0:t.data,deviceId:((p=(i=t==null?void 0:t.data)==null?void 0:i.rooms)==null?void 0:p.length)>0?t.data.rooms.filter(_=>_.device_no).map(_=>_.device_no).join(","):"",bedRoomIds:((A=(w=t==null?void 0:t.data)==null?void 0:w.rooms)==null?void 0:A.length)>0?t.data.rooms.filter(_=>_.device_no&&_.room_type==2).map(_=>_.device_no).join(","):""};M(c),r(c),y.set("elderly_details",c)}).catch(t=>{console.log("error ==================>",t),v(!1)})};e.useEffect(()=>{y.set("elderly_details",[]),y.set("sleepData",[]),u.id&&(v(!0),h())},[h,u.id]),e.useEffect(()=>{s!=null&&s.bedRoomIds&&J({uids:s.bedRoomIds,to_date:ve().subtract(1,"day").format("YYYY-MM-DD")})},[s==null?void 0:s.bedRoomIds,n]);function J({uids:t,to_date:c}){if(!t||!u.id){v(!1);return}v(!0),ye({uids:t,elderly_id:u.id,to_date:n||c}).then(i=>{k(i==null?void 0:i.data),y.set("sleepData",i==null?void 0:i.data),v(!1)}).catch(i=>{console.log("error ==================>",i),v(!1)})}const f=e.useRef(null),[S,g]=e.useState(!1),[G,K]=e.useState(0),[Q,Z]=e.useState(0),[ee,te]=e.useState(!1),[ae,oe]=e.useState(!0),ne=t=>{t.button===0&&(g(!0),K(t.pageX-f.current.offsetLeft),Z(f.current.scrollLeft))},se=t=>{if(!S)return;t.preventDefault();const i=(t.pageX-f.current.offsetLeft-G)*.8;f.current.scrollLeft=Q-i,requestAnimationFrame(E)},re=()=>g(!1),ie=()=>g(!1),E=()=>{if(!f.current)return;const{scrollLeft:t,scrollWidth:c,clientWidth:i}=f.current;te(t>0),oe(t+i<c)};return e.useEffect(()=>{E()},[$]),e.useEffect(()=>{},[W[d],d]),o.jsx("div",{id:"elderly-profile-tabs",className:"rounded-2xl mt-8 relative",children:o.jsx(Ee,{onRefsUpdate:X,children:o.jsx(he,{deviceId:s.deviceId,children:o.jsxs(ge.Provider,{value:{sleepData:C,sleepDataLoading:U,elderlyDetails:s,getElderlyDetails:h},children:[o.jsxs(z,{theme:{token:{fontFamily:"Baloo2",colorPrimary:"#252F67",colorLinkActive:"#252F67",colorLinkHover:"#252F67",colorLink:"#252F67"}},children:[ee&&o.jsx("div",{style:{position:"absolute",left:0,top:0,bottom:0,width:"30px",background:"linear-gradient(to right, white, rgba(255,255,255,0))",zIndex:1,pointerEvents:"none",borderRadius:"14px",height:"60px"}}),ae&&o.jsx("div",{style:{position:"absolute",right:0,top:0,bottom:0,width:"30px",background:"linear-gradient(to left, white, rgba(255,255,255,0))",zIndex:1,pointerEvents:"none",borderRadius:"14px",height:"60px"}}),o.jsx(V,{activeKey:d,onChange:T,size:"large",className:"mb-4",tabBarStyle:{borderBottom:"none"},destroyInactiveTabPane:!0,renderTabBar:(t,c)=>o.jsxs("div",{className:"tabs-drag-container",ref:f,onMouseDown:ne,onMouseMove:se,onMouseUp:re,onMouseLeave:ie,onScroll:E,style:{overflowX:"auto",borderRadius:"14px",whiteSpace:"nowrap",cursor:S?"grabbing":"grab",display:"flex",scrollbarWidth:"none",msOverflowStyle:"none",userSelect:"none"},children:[o.jsx("style",{children:`
              .tabs-drag-container::-webkit-scrollbar {
                display: none;
              }
            `}),o.jsx(c,{...t})]}),children:H.map(t=>o.jsx(V.TabPane,{tab:o.jsxs("span",{className:"flex items-center gap-2 !border-none",children:[t.icon,t.label]}),children:o.jsx(e.Suspense,{fallback:o.jsx(Ue,{}),children:d===t.key?t.component:null})},t.key))})]}),o.jsx(z,{theme:{token:{fontFamily:"Baloo2",colorPrimary:"#252F67",colorLinkActive:"#252F67",colorLinkHover:"#252F67",colorLink:"#252F67",primaryColor:"#252F67"}}})]})})})},u.id)}export{bt as default};

import{r as o,bO as j,i as d,kF as C,j as n}from"./index-CR4fhODd.js";import O from"./barChart-CY3WFCIy.js";import{T as R}from"./Template-BLv2RFpl.js";import{g as T}from"./utiles-Cxfq-lBl.js";import{S as y}from"./SkeletonBarChart-BNNP2f43.js";import"./WeeklyMonthlyPicker-BRoXS4CI.js";import"./SleepHynogram-DfUa7E06.js";import"./FileOutlined-CocyS7bT.js";function A(){const{title:f,color:u,icon:p,dataAnalysis:x,summaryProps:E,description:b}=T("Number of Room Entries and Exits"),l=o.useContext(j),{chartToDate:i="",chartFromDate:m="",elderlyDetails:t}=l||{},[e,g]=o.useState(d().subtract(1,"day").format("YYYY-MM-DD")),[a,h]=o.useState(d().subtract(31,"day").format("YYYY-MM-DD")),[S,D]=o.useState([]),[Y,r]=o.useState(!0),c=o.useCallback(()=>{if(!(t!=null&&t.deviceId)||!t._id||!a||!e){r(!1);return}r(!0),C({uids:t==null?void 0:t.deviceId,elderly_id:t._id,to_date:a,from_date:e}).then(s=>{D(s.data),console.log(s.data),r(!1)}).catch(s=>{console.log(s),r(!1)})},[e,a,t]);return o.useEffect(()=>{c()},[c]),o.useEffect(()=>{i&&m&&(g(i),h(m))},[i,m]),n.jsx(R,{title:f,color:u,icon:p,dataAnalysis:x,description:b,isSummaryBtn:!0,summaryProps:E,children:Y?n.jsx(y,{barGroups:25,barsPerGroup:2,gridLines:5,barWidth:40}):n.jsx(O,{data:S,color:u,dataType:"number",fromDate:a,toDate:e,chartFor:"roomInOut",dataUnit:" times"})})}export{A as default};

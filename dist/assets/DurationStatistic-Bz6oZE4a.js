import{r as a,bO as g,i as u,jV as C,j as p}from"./index-CR4fhODd.js";import"./mockData-Bpurtgqo.js";import _ from"./barChart-CY3WFCIy.js";import{T as E}from"./Template-BLv2RFpl.js";import{g as F}from"./utiles-Cxfq-lBl.js";import"./WeeklyMonthlyPicker-BRoXS4CI.js";import"./SleepHynogram-DfUa7E06.js";import"./FileOutlined-CocyS7bT.js";function O({isSummaryBtn:d=!0}){const{title:f,color:i,icon:D,dataAnalysis:S,summaryProps:c,description:x}=F("Duration"),h=a.useContext(g),{chartToDate:s="",chartFromDate:n="",elderlyDetails:t}=h||{},[o,Y]=a.useState(u().subtract(1,"day").format("YYYY-MM-DD")),[r,b]=a.useState(u().subtract(31,"day").format("YYYY-MM-DD")),[j,T]=a.useState([]),m=a.useCallback(()=>{!(t!=null&&t.bedRoomIds)||!(t!=null&&t._id)||!r||!o||C({uids:t==null?void 0:t.bedRoomIds,elderly_id:t._id,to_date:r,from_date:o}).then(e=>{T(e.data)}).catch(e=>{console.log(e)})},[o,r,t]);return a.useEffect(()=>{m()},[m]),a.useEffect(()=>{s&&n&&(Y(s),b(n))},[s]),p.jsx(E,{title:f,color:i,icon:D,dataAnalysis:S,description:x,isSummaryBtn:d,summaryProps:c,children:p.jsx(_,{data:j,color:i,dataType:"duration",toDate:o,fromDate:r,chartFor:c.chartFor})})}export{O as default};

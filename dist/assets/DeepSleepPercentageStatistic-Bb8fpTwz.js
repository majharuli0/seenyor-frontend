import{r as e,bO as j,i as p,jY as T,j as m}from"./index-CR4fhODd.js";import"./mockData-Bpurtgqo.js";import l from"./barChart-CY3WFCIy.js";import{T as C}from"./Template-BLv2RFpl.js";import{g as E}from"./utiles-Cxfq-lBl.js";import"./WeeklyMonthlyPicker-BRoXS4CI.js";import"./SleepHynogram-DfUa7E06.js";import"./FileOutlined-CocyS7bT.js";function B({isSummaryBtn:d=!0}){const{title:f,color:c,icon:u,dataAnalysis:S,summaryProps:g,description:D}=E("Deep Sleep Percentage"),x=e.useContext(j),{chartToDate:s="",chartFromDate:i="",elderlyDetails:t}=x||{},[a,Y]=e.useState(p().subtract(1,"day").format("YYYY-MM-DD")),[o,h]=e.useState(p().subtract(31,"day").format("YYYY-MM-DD")),[P,b]=e.useState([]),n=e.useCallback(()=>{!(t!=null&&t.bedRoomIds)||!(t!=null&&t._id)||!o||!a||T({uids:t==null?void 0:t.bedRoomIds,elderly_id:t._id,to_date:o,from_date:a}).then(r=>{b(r.data)}).catch(r=>{console.log(r)})},[a,o,t]);return e.useEffect(()=>{n()},[n]),e.useEffect(()=>{s&&i&&(Y(s),h(i))},[s]),m.jsx(C,{title:f,color:c,icon:u,dataAnalysis:S,description:D,isSummaryBtn:d,summaryProps:g,children:m.jsx(l,{data:P,color:c,dataType:"percentage",fromDate:o,toDate:a,chartFor:"deepSleepPercentageStatistic",xUnit:"date"})})}export{B as default};

import{r as a,df as P,dd as W,dg as _,f0 as L,e6 as ze,gJ as Fe,aa as f,gK as ce,ad as $,es as I,a7 as Le,ac as $e,eX as je,e7 as ae,fg as De}from"./index-CR4fhODd.js";function oe(n){return n!==null&&W(n)==="object"}function le(n,e,t){if(n===!1||e===!1&&(!oe(n)||!n.closeIcon))return null;var o=typeof e!="boolean"?e:void 0;if(oe(n)){var r;return P(P({},n),{},{closeIcon:(r=n.closeIcon)!==null&&r!==void 0?r:o})}return t||n||e?{closeIcon:o}:"empty"}function He(n,e,t,o){return a.useMemo(function(){var r=le(n,e,!1),i=le(t,o,!0);return r!=="empty"?r:i},[t,o,n,e])}function We(n){var e=window.innerWidth||document.documentElement.clientWidth,t=window.innerHeight||document.documentElement.clientHeight,o=n.getBoundingClientRect(),r=o.top,i=o.right,s=o.bottom,C=o.left;return r>=0&&C>=0&&i<=e&&s<=t}function Be(n,e,t){var o;return(o=t??e)!==null&&o!==void 0?o:n===null?"center":"bottom"}function Je(n){return typeof n=="number"&&!Number.isNaN(n)}function Ge(n,e,t,o){var r=a.useState(void 0),i=_(r,2),s=i[0],C=i[1];L(function(){var l=typeof n=="function"?n():n;C(l||null)});var g=a.useState(null),p=_(g,2),c=p[0],m=p[1],u=ze(function(){if(s){!We(s)&&e&&s.scrollIntoView(o);var l=s.getBoundingClientRect(),d=l.left,v=l.top,S=l.width,j=l.height,A={left:d,top:v,width:S,height:j,radius:0};m(function(O){return JSON.stringify(O)!==JSON.stringify(A)?A:O})}else m(null)}),y=function(d){var v;return(v=Array.isArray(t==null?void 0:t.offset)?t==null?void 0:t.offset[d]:t==null?void 0:t.offset)!==null&&v!==void 0?v:6};L(function(){return u(),window.addEventListener("resize",u),function(){window.removeEventListener("resize",u)}},[s,e,u]);var N=a.useMemo(function(){if(!c)return c;var l=y(0),d=y(1),v=Je(t==null?void 0:t.radius)?t==null?void 0:t.radius:2;return{left:c.left-l,top:c.top-d,width:c.width+l*2,height:c.height+d*2,radius:v}},[c,t]);return[N,s]}var F={fill:"transparent",pointerEvents:"auto"},Xe=function(e){var t=e.prefixCls,o=e.rootClassName,r=e.pos,i=e.showMask,s=e.style,C=s===void 0?{}:s,g=e.fill,p=g===void 0?"rgba(0,0,0,0.5)":g,c=e.open,m=e.animated,u=e.zIndex,y=e.disabledInteraction,N=Fe(),l="".concat(t,"-mask-").concat(N),d=W(m)==="object"?m==null?void 0:m.placeholder:m,v=typeof navigator<"u"&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent),S=v?{width:"100%",height:"100%"}:{width:"100vw",height:"100vh"};return f.createElement(ce,{open:c,autoLock:!0},f.createElement("div",{className:$("".concat(t,"-mask"),o),style:P({position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:u,pointerEvents:r&&!y?"none":"auto"},C)},i?f.createElement("svg",{style:{width:"100%",height:"100%"}},f.createElement("defs",null,f.createElement("mask",{id:l},f.createElement("rect",I({x:"0",y:"0"},S,{fill:"white"})),r&&f.createElement("rect",{x:r.left,y:r.top,rx:r.radius,width:r.width,height:r.height,fill:"black",className:d?"".concat(t,"-placeholder-animated"):""}))),f.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:p,mask:"url(#".concat(l,")")}),r&&f.createElement(f.Fragment,null,f.createElement("rect",I({},F,{x:"0",y:"0",width:"100%",height:r.top})),f.createElement("rect",I({},F,{x:"0",y:"0",width:r.left,height:"100%"})),f.createElement("rect",I({},F,{x:"0",y:r.top+r.height,width:"100%",height:"calc(100vh - ".concat(r.top+r.height,"px)")})),f.createElement("rect",I({},F,{x:r.left+r.width,y:"0",width:"calc(100vw - ".concat(r.left+r.width,"px)"),height:"100%"})))):null))},Ke=[0,0],ie={left:{points:["cr","cl"],offset:[-8,0]},right:{points:["cl","cr"],offset:[8,0]},top:{points:["bc","tc"],offset:[0,-8]},bottom:{points:["tc","bc"],offset:[0,8]},topLeft:{points:["bl","tl"],offset:[0,-8]},leftTop:{points:["tr","tl"],offset:[-8,0]},topRight:{points:["br","tr"],offset:[0,-8]},rightTop:{points:["tl","tr"],offset:[8,0]},bottomRight:{points:["tr","br"],offset:[0,8]},rightBottom:{points:["bl","br"],offset:[8,0]},bottomLeft:{points:["tl","bl"],offset:[0,8]},leftBottom:{points:["br","bl"],offset:[-8,0]}};function ue(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e={};return Object.keys(ie).forEach(function(t){e[t]=P(P({},ie[t]),{},{autoArrow:n,targetOffset:Ke})}),e}ue();function Ye(n){var e,t=n.prefixCls,o=n.current,r=n.total,i=n.title,s=n.description,C=n.onClose,g=n.onPrev,p=n.onNext,c=n.onFinish,m=n.className,u=n.closable,y=Le(u||{},!0),N=(e=u==null?void 0:u.closeIcon)!==null&&e!==void 0?e:a.createElement("span",{className:"".concat(t,"-close-x")},"Ã—"),l=!!u;return a.createElement("div",{className:$("".concat(t,"-content"),m)},a.createElement("div",{className:"".concat(t,"-inner")},l&&a.createElement("button",I({type:"button",onClick:C,"aria-label":"Close"},y,{className:"".concat(t,"-close")}),N),a.createElement("div",{className:"".concat(t,"-header")},a.createElement("div",{className:"".concat(t,"-title")},i)),a.createElement("div",{className:"".concat(t,"-description")},s),a.createElement("div",{className:"".concat(t,"-footer")},a.createElement("div",{className:"".concat(t,"-sliders")},r>1?$e(Array.from({length:r}).keys()).map(function(d,v){return a.createElement("span",{key:d,className:v===o?"active":""})}):null),a.createElement("div",{className:"".concat(t,"-buttons")},o!==0?a.createElement("button",{className:"".concat(t,"-prev-btn"),onClick:g},"Prev"):null,o===r-1?a.createElement("button",{className:"".concat(t,"-finish-btn"),onClick:c},"Finish"):a.createElement("button",{className:"".concat(t,"-next-btn"),onClick:p},"Next")))))}var qe=function(e){var t=e.current,o=e.renderPanel;return a.createElement(a.Fragment,null,typeof o=="function"?o(e,t):a.createElement(Ye,e))},Qe=["prefixCls","steps","defaultCurrent","current","onChange","onClose","onFinish","open","mask","arrow","rootClassName","placement","renderPanel","gap","animated","scrollIntoViewOptions","zIndex","closeIcon","closable","builtinPlacements","disabledInteraction"],Ue={left:"50%",top:"50%",width:1,height:1},se={block:"center",inline:"center"},et=function(e){var t=e.prefixCls,o=t===void 0?"rc-tour":t,r=e.steps,i=r===void 0?[]:r,s=e.defaultCurrent,C=e.current,g=e.onChange,p=e.onClose,c=e.onFinish,m=e.open,u=e.mask,y=u===void 0?!0:u,N=e.arrow,l=N===void 0?!0:N,d=e.rootClassName,v=e.placement,S=e.renderPanel,j=e.gap,A=e.animated,O=e.scrollIntoViewOptions,de=O===void 0?se:O,B=e.zIndex,J=B===void 0?1001:B,fe=e.closeIcon,me=e.closable,M=e.builtinPlacements,ve=e.disabledInteraction,he=je(e,Qe),G=a.useRef(),ge=ae(0,{value:C,defaultValue:s}),X=_(ge,2),b=X[0],K=X[1],pe=ae(void 0,{value:m,postState:function(h){return b<0||b>=i.length?!1:h??!0}}),Y=_(pe,2),w=Y[0],Ce=Y[1],be=a.useState(w),q=_(be,2),we=q[0],Ee=q[1],Q=a.useRef(w);L(function(){w&&(Q.current||K(0),Ee(!0)),Q.current=w},[w]);var E=i[b]||{},ye=E.target,Ne=E.placement,xe=E.style,U=E.arrow,Ie=E.className,D=E.mask,Z=E.scrollIntoViewOptions,H=Z===void 0?se:Z,Pe=E.closeIcon,ke=E.closable,_e=He(ke,Pe,me,fe),R=w&&(D??y),Se=H??de,Oe=Ge(ye,m,j,Se),ee=_(Oe,2),te=ee[0],T=ee[1],Me=Be(T,v,Ne),V=T?typeof U>"u"?l:U:!1,z=W(V)==="object"?V.pointAtCenter:!1;L(function(){var x;(x=G.current)===null||x===void 0||x.forceAlign()},[z,b]);var ne=function(h){K(h),g==null||g(h)},Re=a.useMemo(function(){return M?typeof M=="function"?M({arrowPointAtCenter:z}):M:ue(z)},[M,z]);if(T===void 0||!we)return null;var re=function(){Ce(!1),p==null||p(b)},Ae=function(){return a.createElement(qe,I({arrow:V,key:"content",prefixCls:o,total:i.length,renderPanel:S,onPrev:function(){ne(b-1)},onNext:function(){ne(b+1)},onClose:re,current:b,onFinish:function(){re(),c==null||c()}},i[b],{closable:_e}))},Te=typeof R=="boolean"?R:!!R,k=typeof R=="boolean"?void 0:R,Ve=function(h){return h||T||document.body};return a.createElement(a.Fragment,null,a.createElement(Xe,{zIndex:J,prefixCls:o,pos:te,showMask:Te,style:k==null?void 0:k.style,fill:k==null?void 0:k.color,open:w,animated:A,rootClassName:d,disabledInteraction:ve}),a.createElement(De,I({},he,{builtinPlacements:Re,ref:G,popupStyle:xe,popupPlacement:Me,popupVisible:w,popupClassName:$(d,Ie),prefixCls:o,popup:Ae,forceRender:!1,destroyPopupOnHide:!0,zIndex:J,getTriggerDOMNode:Ve,arrow:!!V}),a.createElement(ce,{open:w,autoLock:!0},a.createElement("div",{className:$(d,"".concat(o,"-target-placeholder")),style:P(P({},te||Ue),{},{position:"fixed",pointerEvents:"none"})}))))};export{et as T};

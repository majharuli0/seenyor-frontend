import{r as a,bO as h,i as c,j_ as g,j as d}from"./index-CR4fhODd.js";import"./mockData-Bpurtgqo.js";import j from"./barChart-CY3WFCIy.js";import{T as A}from"./Template-BLv2RFpl.js";import{g as T}from"./utiles-Cxfq-lBl.js";import"./WeeklyMonthlyPicker-BRoXS4CI.js";import"./SleepHynogram-DfUa7E06.js";import"./FileOutlined-CocyS7bT.js";function O({isSummaryBtn:_=!0}){const{title:p,color:n,icon:u,dataAnalysis:f,summaryProps:C,description:x}=T("Apnea Index Distribution"),D=a.useContext(h),{chartToDate:e="",chartFromDate:i="",elderlyDetails:t}=D||{},[o,b]=a.useState(c().subtract(1,"day").format("YYYY-MM-DD")),[s,I]=a.useState(c().subtract(31,"day").format("YYYY-MM-DD")),[S,Y]=a.useState([]),m=a.useCallback(()=>{!(t!=null&&t.bedRoomIds)||!(t!=null&&t._id)||!s||!o||g({uids:t==null?void 0:t.bedRoomIds,elderly_id:t._id,to_date:s,from_date:o}).then(r=>{Y(r.data)}).catch(r=>{console.log(r)})},[o,s,t]);return a.useEffect(()=>{m()},[m]),a.useEffect(()=>{e&&i&&(b(e),I(i))},[e]),d.jsx(A,{title:p,color:n,icon:u,dataAnalysis:f,description:x,isSummaryBtn:!1,children:d.jsx(j,{data:S,color:n,dataType:"percentage",fromDate:"",toDate:"",dataUnit:" ",xUnit:"number",chartFor:"apneaIndexDistribution"})})}export{O as default};

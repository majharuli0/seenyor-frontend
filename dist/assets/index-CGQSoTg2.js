import{j as e,bb as m,T as u,r as l,J as f,$ as y,aD as j}from"./index-CR4fhODd.js";import{S as b}from"./SubDetails-AyXcTWom.js";import{a as h}from"./subscriptions-Dbjy7cDX.js";const c=({transactionId:t})=>{const[n,a]=l.useState(!1),x=()=>{navigator.clipboard.writeText(t),a(!0),setTimeout(()=>a(!1),2e3)},i=(t==null?void 0:t.length)>22?(t==null?void 0:t.slice(0,22))+"...":t;return e.jsx(f,{title:n?"Copied!":"Click to copy",children:e.jsx("span",{className:"text-[14px] xl:text-base font-normal text-text-secondary text-nowrap cursor-pointer",onClick:x,children:i})})},g=[{title:"Transaction Date",render:t=>e.jsx("span",{className:" text-[14px] xl:text-base  font-normal text-text-secondary text-nowrap",children:m(t==null?void 0:t.created_at)||"N/A"})},{title:"Transaction ID",render:t=>e.jsx("span",{className:" text-[14px] xl:text-base  font-normal text-text-secondary text-nowrap w-[100px]",children:e.jsx(c,{transactionId:t==null?void 0:t.transaction_id})})},{title:"User Email",render:t=>{var n,a;return e.jsxs("span",{className:" text-[14px] xl:text-base  font-normal text-text-secondary text-nowrap w-[100px]",children:[e.jsx(c,{transactionId:(a=(n=t==null?void 0:t.metadata)==null?void 0:n.customer_details)==null?void 0:a.email})," "]})}},{title:"Payment Status",render:t=>e.jsx("span",{className:" text-[14px] xl:text-base  font-normal text-text-secondary text-nowrap capitalize",children:e.jsxs(u,{color:`${(t==null?void 0:t.payment_status)=="paid"?"green":"red"}`,children:[" ",(t==null?void 0:t.payment_status)||"N/A"]})})},{title:"Request/Response",render:t=>e.jsx("span",{className:" text-[14px] xl:text-base  font-normal text-text-secondary text-nowrap capitalize",children:(t==null?void 0:t.method_type)||"N/A"})},{title:"Provider",render:t=>e.jsx("span",{className:" text-[14px] xl:text-base  font-normal text-text-secondary text-nowrap capitalize",children:(t==null?void 0:t.provider)||"N/A"})},{title:"Amount",render:t=>e.jsx("button",{children:e.jsxs("span",{className:" text-[14px] xl:text-base  font-normal text-text-secondary text-nowrap uppercase",children:["$",(t==null?void 0:t.amount)||0," ",(t==null?void 0:t.currency)||"USD"]})})},{title:"Details",render:t=>e.jsx("button",{children:e.jsx("span",{className:"text-[14px] xl:text-base font-normal text-text-secondary flex items-center gap-1",children:e.jsx(b,{data:t})})})}];function T(){const[t,n]=l.useState(!0),[a,x]=l.useState({}),[i,o]=l.useState(0),[p,d]=l.useState([]),r=l.useCallback(()=>{n(!0),h(a).then(s=>{d((s==null?void 0:s.data)||[]),o(s==null?void 0:s.total)}).then(s=>{console.error("Error fetching subscriptions:",s)}).finally(()=>{n(!1)})},[a]);return l.useEffect(()=>{r()},[r]),e.jsx(e.Fragment,{children:e.jsxs("div",{id:"refunds_request",className:"w-full flex flex-col gap-4 justify-center items-center bg-white rounded-2xl p-6 mt-6",children:[e.jsx("div",{id:"Recently_Closed_Alerts_Header",className:"w-full flex justify-between"}),e.jsx(y.Provider,{value:{total:i,page:a,SetPage:x,getList:r},children:e.jsx(j,{loading:t,columns:g,tableData:p})})]})})}export{T as default};

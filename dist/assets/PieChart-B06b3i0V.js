import{r as i,j as m,E as S,jv as g}from"./index-CR4fhODd.js";function D({sleepData:r=[],sleepScore:w=""}){const o=i.useRef(null),a=e=>e.filter(t=>t.status==="0"||t.status==="1"||t.status==="7"),s=(e=>{const l=a(e).reduce((h,p)=>h+Number(p.value),0),f=Math.floor(l/60),d=l%60;return{hours:f,minutes:d}})(r),n={0:{name:"Deep Sleep",color:"#7F87FC"},1:{name:"Light Sleep",color:"#4285F4"},7:{name:"REM",color:"#A0C878"}},c=a(r).map(e=>({name:n[e.status].name,value:e.value,itemStyle:{color:n[e.status].color}}));i.useEffect(()=>{const e=()=>{o.current&&o.current.getEchartsInstance().resize()};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]);const u={tooltip:{trigger:"item",formatter:e=>{const t=g(e.value);return`${e.name}: ${t} (${e.percent}%)`}},grid:{top:"00%"},legend:{show:!0,orient:"horizontal",bottom:0,left:"center"},series:[{name:"Sleep Stages",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,data:c,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!0,position:"center",formatter:()=>`{c|${s.hours}h ${s.minutes}m}
{a|Total Duration}`,rich:{a:{fontSize:12,fontWeight:"normal",color:"#999",marginTop:5},c:{fontSize:26,fontWeight:"bold",color:"#000",padding:[10,0,0,0]}}},labelLine:{show:!1}}]};return m.jsx(S,{ref:o,option:u,style:{height:320,width:"100%"}})}export{D as default};

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/scatterChart-ZrN1IDd9.js","assets/index-CR4fhODd.js","assets/index-BCO3KllJ.css"])))=>i.map(i=>d[i]);
import{r as t,bO as R,i as u,k3 as j,k4 as C,j as a,cS as T}from"./index-CR4fhODd.js";import{T as Y}from"./Template-BLv2RFpl.js";import{g as k}from"./utiles-Cxfq-lBl.js";import{S as d}from"./SkeletonScatterChart-CKYmyJt2.js";import"./WeeklyMonthlyPicker-BRoXS4CI.js";import"./SleepHynogram-DfUa7E06.js";import"./FileOutlined-CocyS7bT.js";const A=t.lazy(()=>T(()=>import("./scatterChart-ZrN1IDd9.js"),__vite__mapDeps([0,1,2])));function w(){const{title:m,color:f,icon:D,dataAnalysis:p,summaryProps:h,description:g}=k("Distribution of Daily Routine"),x=t.useContext(R),{chartToDate:i="",chartFromDate:r="",elderlyDetails:e}=x||{},[n,y]=t.useState(u().subtract(1,"day").format("YYYY-MM-DD")),[c,S]=t.useState(u().subtract(31,"day").format("YYYY-MM-DD")),[_,b]=t.useState([]),[E,o]=t.useState(!0),l=t.useCallback(()=>{if(!(e!=null&&e.deviceId)||!e._id){o(!1);return}o(!0),j({uids:e==null?void 0:e.deviceId,elderly_id:e._id,to_date:c,from_date:n}).then(s=>{b(C(s.data)),console.log(s.data),o(!1)}).catch(s=>{console.log(s),o(!1)})},[n,c,e]);return t.useEffect(()=>{l()},[l]),t.useEffect(()=>{i&&r&&(y(i),S(r))},[i,r]),a.jsx(Y,{title:m,color:f,icon:D,dataAnalysis:p,description:g,isSummaryBtn:!0,summaryProps:h,children:E?a.jsx(d,{height:350,chartHeight:280,scatterPoints:8,gridLines:5,yAxisLabels:5,legendItems:0,showTitle:!1,titleWidth:"40%",pointSize:10}):a.jsx(t.Suspense,{fallback:a.jsx(d,{height:350,chartHeight:280,scatterPoints:8,gridLines:5,yAxisLabels:5,legendItems:4,showTitle:!0,titleWidth:"40%",pointSize:10}),children:a.jsx(A,{data:_,colors:{gotobed:"#2EC7C9",wakeup:"#5AB1EF",getup:"#FFB980",fallasleep:"#B6A2DE"}})})})}export{w as default};
